<!doctype html>
<html
  lang="en"
  data-theme="dark"
  data-ff-build="flagship-v8"
  data-ff-compat="compat-first"
  data-ff-page="fundraiser"
>
<head>
  <!-- =========================
    FutureFunded • Flagship v8
    Drop-in replacement index.html
    - Keeps ALL existing IDs + data-ff hooks
    - Adds premium-grade structure + optional premium-only rails
    - Tightens SEO, perf, a11y, and enterprise polish
  ========================== -->

  <meta charset="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover,maximum-scale=5" />
  <meta name="format-detection" content="telephone=no,date=no,address=no,email=no" />
  <meta name="color-scheme" content="dark light" />
  <meta name="supported-color-schemes" content="dark light" />
  <meta name="referrer" content="strict-origin-when-cross-origin" />
  <meta name="robots" content="index,follow,max-image-preview:large" />
  <meta name="x-dns-prefetch-control" content="on" />
  <meta name="generator" content="FutureFunded Flagship v8" />

  <!-- (Feature 1) Payments config (Stripe + optional PayPal) -->
  <meta name="ff-stripe-pk" content="{{ stripe_pk|default('') }}" />
  <meta name="ff-checkout-endpoint" content="{{ checkout_endpoint|default('/payments/stripe/intent') }}" />
  <meta name="csrf-token" content="{{ csrf_token|default('') }}" />

  <!-- Optional PayPal config (loaded on-demand) -->
  <meta name="ff-paypal-client-id" content="{{ paypal_client_id|default('') }}" />
  <meta name="ff-paypal-currency" content="{{ paypal_currency|default('USD') }}" />
  <meta name="ff-paypal-intent" content="{{ paypal_intent|default('capture') }}" />

  <!-- (Feature 2) QR endpoint override -->
  <meta name="ff-qr-endpoint" content="{{ qr_endpoint|default('https://api.qrserver.com/v1/create-qr-code/') }}" />

  <!-- (Feature 3) Security baseline (prefer headers; safe meta baseline) -->
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=(), payment=(self), usb=()" />

  <title>{{ page_title|default('FutureFunded • Fundraiser') }}</title>
  <meta
    name="description"
    content="{{ page_description|default('Fuel the season. Fund the future. Secure donations, sponsor leaderboards, and share-ready tools for youth teams and community programs.') }}"
  />
  <meta name="author" content="{{ org_name|default('FutureFunded') }}" />

  <link rel="canonical" href="{{ request.base_url }}" />
  <link rel="alternate" hreflang="en" href="{{ request.base_url }}" />

  <!-- Open Graph / Social -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="{{ request.base_url }}" />
  <meta property="og:site_name" content="{{ org_name|default('FutureFunded') }}" />
  <meta property="og:locale" content="en_US" />
  <meta property="og:title" content="{{ og_title|default(page_title|default('FutureFunded • Fundraiser')) }}" />
  <meta property="og:description" content="{{ og_description|default(page_description|default('Secure checkout, instant receipts, and premium sponsor recognition.')) }}" />
  <meta property="og:image" content="{{ og_image|default(url_for('static', filename='images/og.webp', _external=True)) }}" />
  <meta property="og:image:secure_url" content="{{ og_image|default(url_for('static', filename='images/og.webp', _external=True)) }}" />
  <meta property="og:image:type" content="image/webp" />
  <meta property="og:image:alt" content="{{ og_image_alt|default('Fundraiser preview') }}" />
  <meta property="og:image:width" content="{{ og_image_width|default('1200') }}" />
  <meta property="og:image:height" content="{{ og_image_height|default('630') }}" />
  <meta property="og:updated_time" content="{{ page_modified_iso|default('') }}" />

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ og_title|default(page_title|default('FutureFunded • Fundraiser')) }}" />
  <meta name="twitter:description" content="{{ og_description|default(page_description|default('Secure checkout, instant receipts, and premium sponsor recognition.')) }}" />
  <meta name="twitter:image" content="{{ og_image|default(url_for('static', filename='images/og.webp', _external=True)) }}" />
  <meta name="twitter:site" content="{{ twitter_site|default('') }}" />
  <meta name="twitter:creator" content="{{ twitter_creator|default('') }}" />

  <!-- Brand / PWA -->
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="{{ theme_color_light|default(theme_color|default('#f97316')) }}" />
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="{{ theme_color_dark|default('#0b0f17') }}" />
  <meta name="application-name" content="{{ org_name|default('FutureFunded') }}" />

  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-title" content="{{ org_name|default('FutureFunded') }}" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

  <link rel="icon" href="{{ url_for('static', filename='images/favicon.ico') }}" sizes="any" />
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/icon-32.png') }}" sizes="32x32" />
  <link rel="apple-touch-icon" href="{{ url_for('static', filename='images/apple-touch-icon.png') }}" />
  <link rel="manifest" href="{{ url_for('static', filename='manifest.webmanifest') }}" />
  <link rel="mask-icon" href="{{ url_for('static', filename='images/safari-pinned-tab.svg') }}" color="{{ theme_color|default('#f97316') }}" />

  <!-- Perf: preconnect (checkout + QR + PayPal) -->
  <link rel="preconnect" href="https://js.stripe.com" crossorigin />
  <link rel="dns-prefetch" href="https://js.stripe.com" />
  <link rel="preconnect" href="https://api.qrserver.com" crossorigin />
  <link rel="dns-prefetch" href="https://api.qrserver.com" />
  <link rel="preconnect" href="https://www.paypal.com" crossorigin />
  <link rel="dns-prefetch" href="https://www.paypal.com" />

  <!-- Perf: preload core assets -->
  <link rel="preload" as="style" href="{{ url_for('static', filename='css/ff.css') }}?v={{ static_version|default('1') }}" />
  <link rel="stylesheet" href="{{ url_for('static', filename='css/ff.css') }}?v={{ static_version|default('1') }}" />
  <link rel="preload" as="script" href="{{ url_for('static', filename='js/ff-app.js') }}?v={{ static_version|default('1') }}" />

  <!-- Preload logo (hero/brand) -->
  <link
    rel="preload"
    as="image"
    href="{{ org_logo|default(url_for('static', filename='images/logo.webp')) }}"
    fetchpriority="high"
  />
  
  <script src="https://js.stripe.com/v3/"></script>


  <!-- Ultra-light critical polish (safe overrides; respects ff.css tokens) -->
  <style>
    :root{
      --ff-font-sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      --ff-font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --ff-focus: 0 0 0 3px rgba(249, 115, 22, .32);
      --ff-focus2: 0 0 0 6px rgba(249, 115, 22, .16);
    }
    html{ -webkit-text-size-adjust: 100%; }
    body.ff-body{
      font-family: var(--ff-font-sans);
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    :focus-visible{ outline: none; box-shadow: var(--ff-focus), var(--ff-focus2); border-radius: 12px; }
    @media (prefers-reduced-motion: reduce){
      *,*::before,*::after{ animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
    }
  </style>

  <!-- Prevent theme flash (aligned to ff-app.js v8 key + fallback) -->
  <script>
    (function () {
      try {
        var k = "ff_theme_v8";
        var t = localStorage.getItem(k);

        if (t !== "dark" && t !== "light") {
          var t2 = localStorage.getItem("ff_theme");
          if (t2 === "dark" || t2 === "light") t = t2;
        }

        if (t !== "dark" && t !== "light") {
          var m = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
          t = m ? "dark" : "light";
        }

        document.documentElement.setAttribute("data-theme", t);
      } catch (e) {}
    })();
  </script>



  <!-- Optional PayPal loader (on-demand). Call window.ffLoadPayPal() when needed. -->
  <script>
    window.ffLoadPayPal = function ffLoadPayPal() {
      try {
        if (window.paypal) return Promise.resolve(true);

        var cid = (document.querySelector('meta[name="ff-paypal-client-id"]') || {}).content || "";
        if (!cid) return Promise.resolve(false);

        var currency = (document.querySelector('meta[name="ff-paypal-currency"]') || {}).content || "USD";
        var intent = (document.querySelector('meta[name="ff-paypal-intent"]') || {}).content || "capture";

        return new Promise(function (resolve, reject) {
          var s = document.createElement("script");
          s.src =
            "https://www.paypal.com/sdk/js?client-id=" +
            encodeURIComponent(cid) +
            "&currency=" +
            encodeURIComponent(currency) +
            "&intent=" +
            encodeURIComponent(intent);
          s.async = true;
          s.onload = function () { resolve(true); };
          s.onerror = function () { reject(new Error("PayPal SDK failed to load")); };
          document.head.appendChild(s);
        });
      } catch (e) {
        return Promise.resolve(false);
      }
    };
  </script>

  <!-- Structured data -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@graph": [
        {
          "@type": "Organization",
          "name": "{{ org_name|default('FutureFunded') }}",
          "url": "{{ request.base_url }}",
          "logo": "{{ org_logo|default(url_for('static', filename='images/logo.webp', _external=True)) }}"
        },
        {
          "@type": "WebSite",
          "name": "{{ org_name|default('FutureFunded') }}",
          "url": "{{ request.base_url }}"
        },
        {
          "@type": "WebPage",
          "name": "{{ page_title|default('FutureFunded • Fundraiser') }}",
          "url": "{{ request.base_url }}",
          "potentialAction": {
            "@type": "DonateAction",
            "target": "{{ request.base_url }}#donate"
          }
        }
      ]
    }
  </script>
</head>

<body class="ff-body">
  <!-- Skip links (grouped + screen reader friendly) -->
  <nav class="ff-skiplinks" aria-label="Skip links">
    <a class="ff-skip" href="#content">Skip to content</a>
    <a class="ff-skip" href="#donate">Skip to donate</a>
  </nav>

  <!-- Accessible top anchor -->
  <a id="top" class="ff-sr" href="#top" tabindex="-1">Top</a>

  <!-- Noscript -->
  <noscript>
    <div class="container" style="padding: 16px">
      <div class="ff-alert" role="alert">
        JavaScript is required to use secure checkout and dynamic fundraiser features.
      </div>
    </div>
  </noscript>

  <!-- Announcement bar -->
  <aside
    class="ff-announce"
    role="region"
    aria-label="Site announcement"
    data-ff-announcement
    hidden
  >
    <div class="container ff-announce__row">
      <div class="ff-announce__content" aria-live="polite" aria-atomic="true">
        <p class="ff-announce__text" id="announcementText"></p>
      </div>

      <button
        class="ff-icon"
        type="button"
        aria-label="Dismiss announcement"
        data-ff-announcement-dismiss
      >
        <span aria-hidden="true">✕</span>
      </button>
    </div>
  </aside>

  <!-- App shell -->
  <div
    class="ff-shell"
    data-ff-shell
    data-ff-page="fundraiser"
    data-ff-tier="{{ 'premium' if PREMIUM_MODE else 'standard' }}"
    data-ff-org="{{ org_id|default('default') }}"
    data-ff-campaign="{{ campaign_id|default('season') }}"
    data-ff-env="{{ config.get('ENV','prod') }}"
    data-ff-embed="{{ 'true' if EMBED_MODE else 'false' }}"
    data-ff-whitelabel="{{ 'true' if WHITELABEL_MODE else 'false' }}"
    data-ff-version="8.0.0"
  >
    <!-- Status bar -->
    <section class="ff-topbar" data-ff-topbar aria-label="Fundraiser status bar" id="ffTopbar">
      <div class="container">
        <div class="ff-topbar__row">
          <!-- Keep this as the live status region -->
          <div class="ff-topbar__left" role="status" aria-live="polite" aria-atomic="true">
            <span class="ff-pill ff-pill--live">
              <i class="ff-dot" aria-hidden="true"></i>
              LIVE
            </span>

            <span class="ff-pill ff-pill--accent" id="orgPill">Fundraiser</span>
            <span class="ff-pill" id="matchPill" hidden>Match active</span>

            <span class="ff-pill ff-pill--accent" id="countdownPill" hidden>
              <span class="ff-sr">Countdown:</span>
              Ends soon
            </span>

            <span class="ff-pill" id="lastUpdatedPill" data-status="stale">
              Updated — <span class="ff-num" id="lastUpdatedInline">—</span>
            </span>

            <!-- Trust chips (compact) -->
            <span class="ff-pill" data-ff-trust-chip>Secure checkout</span>
            <span class="ff-pill" data-ff-trust-chip>Instant receipt</span>
          </div>

          <div class="ff-topbar__right" role="group" aria-label="Top bar actions">
            <button
              class="ff-btn ff-btn--ghost ff-btn--sm"
              type="button"
              data-ff-share-open
              aria-label="Share fundraiser"
            >
              Share
            </button>

            <a class="ff-btn ff-btn--ghost ff-btn--sm" href="#donate" aria-label="Jump to donate">
              Donate
            </a>

            <button
              class="ff-icon"
              type="button"
              data-ff-topbar-dismiss
              aria-label="Dismiss top bar"
              aria-controls="ffTopbar"
            >
              <span aria-hidden="true">✕</span>
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Header -->
    <header class="ff-header" role="banner" data-ff-header>
      <div class="container">
        <div class="ff-header__row">
          <a class="ff-brand" href="#top" data-ff-brand aria-label="Back to top">
            <span class="ff-brand__mark">
              <img
                class="ff-brand__logo"
                id="brandLogo"
                src="{{ url_for('static', filename='images/logo.webp') }}"
                alt="Organization logo"
                width="46"
                height="46"
                loading="eager"
                decoding="async"
                fetchpriority="high"
              />
            </span>

            <span class="ff-brand__meta">
              <span class="ff-brand__title" id="orgName">Organization</span>
              <span class="ff-brand__sub" id="orgMeta">City • State</span>
            </span>
          </a>

          <nav class="ff-nav" aria-label="Primary navigation">
            <a href="#progress" data-spy="progress">Progress</a>
            <a href="#impact" data-spy="impact">Impact</a>
            <a href="#sponsors" data-spy="sponsors">Sponsors</a>
            <a href="#teams" data-spy="teams">Teams</a>
            <a href="#donate" data-spy="donate">Donate</a>
            <a href="#updates" hidden data-ff-premium-only data-spy="updates">Updates</a>
            <a href="#faq" data-spy="faq">FAQ</a>
          </nav>

          <div class="ff-header__actions" role="group" aria-label="Header actions">
            <span class="ff-pill ff-pill--verified" title="Verified fundraiser">Verified</span>

            <button
              class="ff-icon"
              type="button"
              data-ff-theme-toggle
              aria-pressed="false"
              aria-label="Toggle theme"
              title="Toggle theme"
            >
              ☾
            </button>

            <button
              class="ff-icon"
              type="button"
              data-ff-drawer-open
              aria-controls="mobileDrawer"
              aria-expanded="false"
              aria-label="Open menu"
              title="Open menu"
            >
              ≡
            </button>

            <a class="ff-btn ff-btn--primary ff-btn--sm" href="#donate" data-ff-donate-cta>
              Donate
            </a>
          </div>
        </div>
      </div>

      <!-- Scroll progress (decorative) -->
      <div class="ff-scroll" aria-hidden="true">
        <span id="scrollProgressBar"></span>
      </div>
    </header>

    <!-- Mobile drawer -->
    <div
      class="ff-drawer"
      id="mobileDrawer"
      role="dialog"
      aria-modal="true"
      aria-labelledby="drawerTitle"
      aria-describedby="drawerDesc"
      aria-hidden="true"
      hidden
      data-ff-drawer
    >
      <button
        class="ff-drawer__backdrop"
        type="button"
        data-ff-drawer-close
        aria-label="Close menu overlay"
      ></button>

      <div class="ff-drawer__panel" tabindex="-1" role="document" data-ff-drawer-panel>
        <header class="ff-row ff-row--between">
          <div>
            <h2 class="ff-kicker" id="drawerTitle" style="margin: 0">Navigate</h2>
            <p class="ff-help" id="drawerDesc">Fast links + share tools.</p>
          </div>

          <button class="ff-icon" type="button" data-ff-drawer-close aria-label="Close menu">
            <span aria-hidden="true">✕</span>
          </button>
        </header>

        <div class="ff-divider" aria-hidden="true"></div>

        <nav class="ff-drawer__list" aria-label="Drawer links">
          <a class="ff-drawer__link" href="#progress" data-ff-drawer-close>Progress →</a>
          <a class="ff-drawer__link" href="#impact" data-ff-drawer-close>Impact →</a>
          <a class="ff-drawer__link" href="#sponsors" data-ff-drawer-close>Sponsors →</a>
          <a class="ff-drawer__link" href="#teams" data-ff-drawer-close>Teams →</a>
          <a class="ff-drawer__link" href="#donate" data-ff-drawer-close>Donate →</a>
          <a class="ff-drawer__link" href="#updates" hidden data-ff-premium-only data-ff-drawer-close>Updates →</a>
          <a class="ff-drawer__link" href="#faq" data-ff-drawer-close>FAQ →</a>
        </nav>

        <div class="ff-divider" aria-hidden="true"></div>

        <div class="ff-row" role="group" aria-label="Share actions">
          <button class="ff-btn ff-btn--secondary" type="button" data-ff-share-open>Share</button>
          <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-drawer-close>Close</button>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <section class="ff-mini" aria-label="Trust and security">
          <h3 class="ff-kicker" style="margin: 0">Trust</h3>
          <p class="ff-help">Secure Stripe checkout + instant receipts.</p>

          <div class="ff-row">
            <span class="ff-pill ff-pill--verified">Verified</span>
            <span class="ff-pill">Encrypted</span>
            <span class="ff-pill">Receipt email</span>
          </div>

          <details class="ff-disc" style="margin-top: 10px">
            <summary class="ff-disc__sum">
              <span>
                <span class="ff-kicker">Donor confidence</span><br />
                <span class="ff-help">What happens after I donate?</span>
              </span>
              <span class="ff-pill" aria-hidden="true">Open</span>
            </summary>

            <div class="ff-mini" style="margin-top: 10px">
              <ul class="ff-bul">
                <li>Payment is encrypted and confirmed in seconds.</li>
                <li>Receipt is emailed immediately after success.</li>
                <li>Recognition is optional (donate anonymously anytime).</li>
              </ul>
            </div>
          </details>
        </section>

        <!-- Optional premium-only: compact “Organizer Console” rail (hidden) -->
        <section class="ff-mini" hidden data-ff-premium-only aria-label="Organizer console">
          <div class="ff-divider" aria-hidden="true"></div>
          <h3 class="ff-kicker" style="margin: 0">Organizer console</h3>
          <p class="ff-help">Campaign controls + sponsor tools (premium).</p>

          <div class="ff-row" role="group">
            <button
              class="ff-btn ff-btn--secondary ff-btn--sm"
              type="button"
              data-ff-admin-open
              disabled
              aria-disabled="true"
            >
              Open console
            </button>

            <a
              class="ff-btn ff-btn--ghost ff-btn--sm"
              href="mailto:support@getfuturefunded.com?subject=Organizer%20console%20access"
            >
              Request access
            </a>
          </div>
        </section>
      </div>
    </div>

    <!-- Main -->
<main id="content" class="ff-main" tabindex="-1">
  <!-- HERO -->
  <section
    class="ff-hero"
    aria-labelledby="heroTitle"
    aria-describedby="heroCopy"
    data-ff-hero
  >
    <div class="ff-hero__bg" aria-hidden="true">
      <div class="ff-hero__glow"></div>
      <div class="ff-hero__grid"></div>
      <div class="ff-hero__noise"></div>
    </div>

    <div class="container ff-hero__layout">
      <!-- Left -->
      <div class="ff-hero__left">
        <div class="ff-row ff-hero__context" aria-label="Fundraiser context">
          <span class="ff-pill" id="seasonPill">Season Fund</span>
          <span class="ff-pill" id="sportPill">Youth program</span>
          <span class="ff-pill" id="heroMatchPill" hidden>Match active</span>
        </div>

        <article class="ff-card ff-card--lift ff-pad ff-hero__card">
          <header class="ff-row ff-hero__cardhead">
            <img
              id="heroLogo"
              class="ff-hero__logo"
              src="{{ url_for('static', filename='images/logo.webp') }}"
              alt="Organization logo"
              width="42"
              height="42"
              loading="eager"
              decoding="async"
              fetchpriority="high"
            />

            <div class="ff-hero__headmeta">
              <p class="ff-kicker" id="heroOrgLine">Organization • Fundraiser</p>

              <p class="ff-help ff-row ff-hero__trust" id="trustLine">
                <span class="ff-hero__trusticon" aria-hidden="true">
                  <svg width="16" height="16" viewBox="0 0 24 24" focusable="false">
                    <path d="M12 2l7 4v6c0 5-3 9-7 10C8 21 5 17 5 12V6l7-4z" stroke="currentColor" stroke-width="2" opacity=".9"></path>
                    <path d="M9 12l2 2 4-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                  </svg>
                </span>
                <span>Verified • Secure checkout • Instant receipt</span>
              </p>
            </div>
          </header>

          <h1 id="heroTitle" class="ff-h1">
            Fuel the season. Fund the future.<br />
            <span class="ff-accent" id="heroAccentLine">Keep kids playing.</span>
          </h1>

          <p id="heroCopy" class="ff-lead">
            Your gift covers gym time, travel, and gear so families aren’t carrying the full load.
            Sponsors unlock premium recognition and share-ready proof.
          </p>

          <div class="ff-row ff-hero__actions" role="group" aria-label="Hero actions">
            <a class="ff-btn ff-btn--primary" href="#donate" data-ff-donate-cta>Donate</a>
            <a class="ff-btn ff-btn--secondary" href="#sponsors">Sponsor leaderboard</a>
            <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
          </div>

          <ul class="ff-row ff-hero__highlights" aria-label="Fundraiser highlights">
            <li><span class="ff-pill">Instant receipt</span></li>
            <li><span class="ff-pill">No login</span></li>
            <li><span class="ff-pill">Share-ready</span></li>
            <li><span class="ff-pill" id="heroEventPill" hidden>Next event</span></li>
          </ul>

          <div class="ff-divider" aria-hidden="true"></div>

          <!-- Enterprise micro-proof (compact) -->
          <div class="ff-grid ff-grid--3 ff-hero__proof" aria-label="Proof points">
            <div class="ff-mini">
              <div class="ff-kicker">Speed</div>
              <div class="ff-mini__title">Donate fast</div>
              <p class="ff-help">One tap prefills checkout.</p>
            </div>
            <div class="ff-mini">
              <div class="ff-kicker">Security</div>
              <div class="ff-mini__title">Encrypted</div>
              <p class="ff-help">Stripe-secured payments.</p>
            </div>
            <div class="ff-mini">
              <div class="ff-kicker">Proof</div>
              <div class="ff-mini__title">Receipt</div>
              <p class="ff-help">Delivered instantly by email.</p>
            </div>
          </div>

          <div class="ff-divider" aria-hidden="true"></div>

          <details class="ff-disc" aria-label="What your gift unlocks">
            <summary class="ff-disc__sum">
              <span>
                <span class="ff-kicker">What this funds</span><br />
                <span class="ff-help">A clear plan donors trust</span>
              </span>
              <span class="ff-pill" aria-hidden="true">Open</span>
            </summary>

            <div class="ff-mini ff-disc__body">
              <ul class="ff-bul">
                <li>Gym time, tournament fees, and travel support</li>
                <li>Uniforms, gear, and player development</li>
                <li>Scholarships for families who need help</li>
                <li>Sponsor recognition across wall + leaderboard</li>
              </ul>
            </div>
          </details>

          <!-- Optional premium-only “Impact report” drawer (hidden) -->
          <details class="ff-disc" hidden data-ff-premium-only aria-label="Impact report">
            <summary class="ff-disc__sum">
              <span>
                <span class="ff-kicker">Impact report</span><br />
                <span class="ff-help">Weekly proof + transparency (premium)</span>
              </span>
              <span class="ff-pill" aria-hidden="true">Open</span>
            </summary>

            <div class="ff-mini ff-disc__body">
              <ul class="ff-bul">
                <li>Auto-generated weekly recap</li>
                <li>Photo + receipts vault (private)</li>
                <li>Allocation changes logged + dated</li>
              </ul>
            </div>
          </details>
        </article>

        <article class="ff-mini ff-mini--callout ff-hero__bar" aria-label="Elite conversion bar">
          <div class="ff-row ff-row--between ff-hero__barrow">
            <div class="ff-hero__barcopy">
              <div class="ff-kicker">Fast impact</div>
              <div class="ff-mini__title">Pick a need → donate in under 30 seconds</div>
              <p class="ff-help">Tap any amount in Impact or Progress. We prefill checkout automatically.</p>
            </div>

            <div class="ff-row ff-hero__baractions" role="group" aria-label="Fast actions">
              <a class="ff-btn ff-btn--primary ff-btn--sm" href="#impact">Pick an impact</a>
              <a class="ff-btn ff-btn--ghost ff-btn--sm" href="#donate">Open checkout</a>
            </div>
          </div>
        </article>
      </div>

      <!-- Right -->
      <aside class="ff-hero__right" aria-label="Fundraising console" data-ff-sticky>
        <article
          class="ff-card ff-card--lift ff-pad ff-console"
          id="progress"
          aria-labelledby="progressTitle"
          data-ff-progress
        >
          <header class="ff-row ff-row--between ff-console__head">
            <div class="ff-console__meta">
              <div class="ff-kicker">Progress</div>
              <h2 id="progressTitle" class="ff-h2">Fundraising progress</h2>

              <div class="ff-big ff-num" id="raisedBig" aria-live="polite" aria-atomic="true">$0</div>

              <p class="ff-help" id="progressMeta">
                <span class="ff-num" id="remainingText">$0</span> to go •
                <span class="ff-num" id="deadlineText">—</span> •
                <span class="ff-num" id="lastUpdatedText">Updated —</span>
              </p>
            </div>

            <span class="ff-pill" aria-label="Goal amount">
              Goal <span class="ff-num" id="goalPill">$0</span>
            </span>
          </header>

          <div class="ff-console__quick">
            <div class="ff-kicker">Quick gifts</div>
            <p class="ff-help">One tap prefills secure checkout.</p>

            <div class="ff-row ff-chips" role="group" aria-label="Quick gift buttons">
              <button class="ff-chip" type="button" data-quick-amount="25" aria-pressed="false">$25</button>
              <button class="ff-chip" type="button" data-quick-amount="75" aria-pressed="false">$75</button>
              <button class="ff-chip" type="button" data-quick-amount="150" aria-pressed="false">$150</button>
              <button class="ff-chip" type="button" data-quick-amount="500" aria-pressed="false">$500</button>
              <button class="ff-chip" type="button" data-quick-amount="1000" aria-pressed="false">Sponsor $1,000</button>
            </div>
          </div>

          <div class="ff-divider" aria-hidden="true"></div>

          <div
            class="ff-meter"
            role="progressbar"
            aria-label="Overall fundraising progress"
            aria-valuemin="0"
            aria-valuemax="100"
            aria-valuenow="0"
            aria-valuetext="0% funded"
            data-ff-meter="overall"
          >
            <div class="ff-meter__ticks" aria-hidden="true">
              <i style="left: 25%"></i><i style="left: 50%"></i><i style="left: 75%"></i><i style="left: 100%"></i>
            </div>
            <span id="overallBar"></span>
          </div>

          <div class="ff-row ff-row--between ff-console__numbers" aria-label="Raised and goal numbers">
            <span class="ff-help">Raised: <span class="ff-num" id="raisedRow">$0</span></span>
            <span class="ff-help">Goal: <span class="ff-num" id="goalRow">$0</span></span>
            <span class="ff-help"><strong class="ff-num" id="pctText">0</strong>%</span>
          </div>

          <div class="ff-divider" aria-hidden="true"></div>

          <div class="ff-grid ff-grid--2" aria-label="KPI minis">
            <div class="ff-mini">
              <div class="ff-row ff-row--between ff-kpi">
                <div>
                  <div class="ff-kicker">Donors</div>
                  <div class="ff-card__title ff-num" id="donorsText">0</div>
                </div>
                <div class="ff-kpi__right">
                  <div class="ff-kicker">Avg gift</div>
                  <div class="ff-card__title ff-num" id="avgGiftText">$0</div>
                </div>
              </div>
            </div>

            <div class="ff-mini">
              <div class="ff-row ff-row--between ff-kpi">
                <div>
                  <div class="ff-kicker">Days left</div>
                  <div class="ff-card__title ff-num" id="daysLeftText">—</div>
                </div>
                <div class="ff-kpi__right">
                  <div class="ff-kicker">Next milestone</div>
                  <div class="ff-card__title ff-num" id="nextMilestoneText">—</div>
                </div>
              </div>
            </div>
          </div>

          <div class="ff-divider" aria-hidden="true"></div>

          <details class="ff-disc">
            <summary class="ff-disc__sum">
              <span>
                <span class="ff-kicker">Scan to donate</span><br />
                <span class="ff-help">QR code + link</span>
              </span>
              <span class="ff-pill" aria-hidden="true">Open</span>
            </summary>

            <div class="ff-mini ff-disc__body" aria-label="Scan to donate">
              <div class="ff-row ff-qrrow">
                <img
                  id="donateQr"
                  class="ff-qr"
                  width="112"
                  height="112"
                  alt="QR code to donate to this fundraiser"
                  loading="lazy"
                  decoding="async"
                  referrerpolicy="no-referrer"
                  data-ff-qr
                  src="https://api.qrserver.com/v1/create-qr-code/?size=220x220&amp;margin=10&amp;data={{ request.base_url | urlencode }}"
                />

                <div class="ff-qrmeta">
                  <div class="ff-kicker">Scan to donate</div>
                  <p class="ff-help">Open camera → scan → donate.</p>

                  <div class="ff-row ff-qractions" role="group" aria-label="QR share actions">
                    <button class="ff-btn ff-btn--secondary ff-btn--sm" type="button" data-ff-copy-link>Copy link</button>
                    <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share</button>
                  </div>
                </div>
              </div>
            </div>
          </details>

          <details class="ff-disc">
            <summary class="ff-disc__sum">
              <span>
                <span class="ff-kicker">Recent gifts</span><br />
                <span class="ff-help">Live donor activity</span>
              </span>
              <span class="ff-pill" aria-hidden="true">Open</span>
            </summary>

            <div class="ff-mini ff-disc__body" aria-label="Recent gifts">
              <p class="ff-help">Live activity builds trust fast.</p>

              <div
                class="ff-stack"
                id="giftsList"
                role="list"
                aria-label="Recent donor gifts list"
              >
                <div class="ff-skel" aria-hidden="true" style="height: 56px"></div>
                <div class="ff-skel" aria-hidden="true" style="height: 56px"></div>
                <div class="ff-skel" aria-hidden="true" style="height: 56px"></div>
              </div>
            </div>
          </details>

          <div class="ff-row ff-console__actions" role="group" aria-label="Progress actions">
            <button class="ff-btn ff-btn--secondary ff-btn--sm" type="button" data-ff-share-open>Share</button>
            <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-copy-link>Copy link</button>
            <a class="ff-btn ff-btn--primary ff-btn--sm" href="#donate" aria-label="Jump to donation form">Donate</a>
          </div>

          <p class="ff-help ff-console__fineprint">
            Secure payment stays on-page. Receipt arrives by email after payment.
          </p>
        </article>

        <article class="ff-mini ff-mini--callout" aria-label="Sponsor fast lane">
          <div class="ff-kicker">Sponsor fast lane</div>
          <div class="ff-mini__title">Businesses donate bigger with recognition</div>
          <p class="ff-help">Open the sponsor kit for a link + caption + tiers.</p>

          <div class="ff-row" role="group" aria-label="Sponsor actions">
            <button
              class="ff-btn ff-btn--secondary ff-btn--sm"
              type="button"
              data-ff-sponsor-kit-open
            >
              Open sponsor kit
            </button>
            <a class="ff-btn ff-btn--ghost ff-btn--sm" href="#sponsors">View tiers</a>
          </div>
        </article>
      </aside>
    </div>
  </section>

      <!-- IMPACT -->
<section id="impact" class="ff-section" aria-labelledby="impactTitle" data-ff-impact>
  <div class="container">
    <header class="ff-card ff-card--lift ff-pad ff-impact__head">
      <div class="ff-row ff-row--between ff-impact__headrow">
        <div class="ff-impact__intro">
          <div class="ff-kicker">Impact</div>
          <h2 id="impactTitle" class="ff-h2">Transparent impact, shareable proof.</h2>
          <p class="ff-lead">
            Donors convert when they understand where money goes. Pick a card to prefill checkout and show what it supports.
          </p>

          <ul class="ff-row ff-impact__pills" aria-label="Impact highlights">
            <li><span class="ff-pill">Prefill amounts</span></li>
            <li><span class="ff-pill">Allocation clarity</span></li>
            <li><span class="ff-pill">Instant receipt</span></li>
            <li><span class="ff-pill" hidden data-ff-premium-only>Auto thank-you + shout-outs</span></li>
          </ul>
        </div>

        <div class="ff-row ff-impact__actions" role="group" aria-label="Impact actions">
          <a class="ff-btn ff-btn--primary" href="#donate">Donate now</a>
          <button class="ff-btn ff-btn--secondary" type="button" data-ff-share-open>Share</button>
        </div>
      </div>

      <div class="ff-divider" aria-hidden="true"></div>

      <details class="ff-disc" aria-label="How this page works">
        <summary class="ff-disc__sum">
          <span>
            <span class="ff-kicker">How it works</span><br />
            <span class="ff-help">3 steps built to convert</span>
          </span>
          <span class="ff-pill" aria-hidden="true">Open</span>
        </summary>

        <div class="ff-grid ff-grid--3 ff-disc__body ff-impact__steps" aria-label="How it works steps">
          <div class="ff-mini">
            <div class="ff-kicker">1</div>
            <div class="ff-mini__title">Pick a need</div>
            <p class="ff-help">Impact cards prefill amount + message automatically.</p>
          </div>

          <div class="ff-mini">
            <div class="ff-kicker">2</div>
            <div class="ff-mini__title">Secure checkout</div>
            <p class="ff-help">Stripe encryption. Apple Pay / Google Pay when available.</p>
          </div>

          <div class="ff-mini">
            <div class="ff-kicker">3</div>
            <div class="ff-mini__title">Share proof</div>
            <p class="ff-help">Copy link/QR. Sponsors get premium recognition.</p>
          </div>
        </div>
      </details>

      <!-- Optional: compact story (inside details; not a scroll-of-death) -->
      <details class="ff-disc ff-impact__story" aria-label="Program story">
        <summary class="ff-disc__sum">
          <span>
            <span class="ff-kicker">Program story</span><br />
            <span class="ff-help">Why this matters</span>
          </span>
          <span class="ff-pill" aria-hidden="true">Open</span>
        </summary>

        <div class="ff-mini ff-disc__body">
          <ul class="ff-bul">
            <li>Funds reduce family burden and keep kids on the floor.</li>
            <li>Travel + tournaments create exposure and confidence.</li>
            <li>Support means more reps, safer gear, and more opportunities.</li>
          </ul>
        </div>
      </details>
    </header>

    <div class="ff-grid ff-grid--2 ff-impact__grid" aria-label="Impact and allocation panels">
      <article class="ff-card ff-card--lift ff-pad" aria-label="Impact cards">
        <div class="ff-row ff-row--between ff-impact__panelhead">
          <div class="ff-impact__panelcopy">
            <div class="ff-kicker">Pick an impact</div>
            <div class="ff-card__title">Tap to prefill checkout</div>
            <p class="ff-help">Editable from config. Each card can set amount + suggested note.</p>
          </div>

          <span class="ff-pill ff-pill--accent" id="impactPrefillPill" hidden>Prefilled</span>
        </div>

        <div id="impactGrid" class="ff-grid ff-grid--2 ff-impact__cards" aria-live="polite">
          <div class="ff-skel" aria-hidden="true" style="height: 140px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 140px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 140px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 140px"></div>
        </div>
      </article>

      <article class="ff-card ff-card--lift ff-pad" aria-label="Allocation transparency">
        <div class="ff-impact__allochead">
          <div class="ff-kicker">Allocation</div>
          <div class="ff-card__title">Where funds go</div>
          <p class="ff-help">Percentages communicate clarity and increase conversion. Adjust anytime.</p>
        </div>

        <div id="allocationList" class="ff-stack ff-impact__alloclist" aria-live="polite">
          <div class="ff-skel" aria-hidden="true" style="height: 64px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 64px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 64px"></div>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <div class="ff-mini ff-impact__trust">
          <div class="ff-kicker">Trust signal</div>
          <p class="ff-help" id="trustCopy">
            Payments are encrypted and processed by Stripe. Card details never touch our servers.
          </p>
        </div>

        <!-- Optional premium-only “Receipts Vault” (hidden) -->
        <div class="ff-mini ff-impact__vault" hidden data-ff-premium-only>
          <div class="ff-kicker">Receipts vault</div>
          <p class="ff-help">Organizer can attach proof (invoices/photos) to weekly updates.</p>
        </div>
      </article>
    </div>
  </div>
</section>

      <!-- SPONSORS -->
<section id="sponsors" class="ff-section" aria-labelledby="sponsorsTitle" data-ff-sponsors>
  <div class="container">
    <header class="ff-card ff-card--lift ff-pad ff-sponsors__head">
      <div class="ff-row ff-row--between ff-sponsors__headrow">
        <div class="ff-sponsors__intro">
          <div class="ff-kicker">Sponsors</div>
          <h2 id="sponsorsTitle" class="ff-h2">Sponsor the program. Get premium recognition.</h2>
          <p class="ff-lead">
            Sponsorships unlock recognition across the sponsor wall, leaderboard, and share-ready posts.
          </p>

          <ul class="ff-row ff-sponsors__pills" aria-label="Sponsor highlights">
            <li><span class="ff-pill">Sponsor wall</span></li>
            <li><span class="ff-pill">Leaderboard</span></li>
            <li><span class="ff-pill">Share-ready kit</span></li>
            <li><span class="ff-pill" hidden data-ff-premium-only>Auto shout-outs</span></li>
          </ul>
        </div>

        <div class="ff-row ff-sponsors__actions" role="group" aria-label="Sponsor actions">
          <a class="ff-btn ff-btn--primary" href="#donate">Become a sponsor</a>
          <button class="ff-btn ff-btn--secondary" type="button" data-ff-sponsor-kit-open>Open sponsor kit</button>
          <a class="ff-btn ff-btn--ghost" href="mailto:support@getfuturefunded.com?subject=Sponsor%20invoice%20request">Request invoice</a>
        </div>
      </div>
    </header>

    <div class="ff-grid ff-grid--2 ff-sponsors__grid" aria-label="Sponsor tiers and leaderboard">
      <!-- TIERS -->
      <article class="ff-card ff-card--lift ff-pad" aria-labelledby="tiersTitle">
        <div class="ff-row ff-row--between ff-sponsors__panelhead">
          <div class="ff-sponsors__panelcopy">
            <div class="ff-kicker">Sponsor tiers</div>
            <div class="ff-card__title" id="tiersTitle">Pick a tier in seconds</div>
            <p class="ff-help">Selecting a tier pre-fills checkout and applies recognition automatically.</p>
          </div>
          <a class="ff-btn ff-btn--secondary ff-btn--sm" href="#donate">Sponsor now</a>
        </div>

        <div
          id="sponsorTiers"
          class="ff-stack ff-sponsors__tiers"
          role="list"
          aria-label="Sponsor tier list"
          aria-live="polite"
        >
          <div class="ff-skel" aria-hidden="true" style="height: 110px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 110px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 110px"></div>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <details class="ff-disc" aria-label="What sponsors get">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">What sponsors get</span><br />
              <span class="ff-help">Recognition + sharing</span>
            </span>
            <span class="ff-pill" aria-hidden="true">Open</span>
          </summary>

          <div class="ff-mini ff-disc__body">
            <ul class="ff-bul">
              <li>Public recognition on wall + leaderboard</li>
              <li>Share-ready caption and link tools</li>
              <li>Premium: scheduled shout-outs + featured rotation</li>
            </ul>
          </div>
        </details>

        <details class="ff-disc ff-sponsors__roi" aria-label="Sponsor ROI">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">Sponsor ROI</span><br />
              <span class="ff-help">Why this is a smart local bet</span>
            </span>
            <span class="ff-pill" aria-hidden="true">Open</span>
          </summary>

          <div class="ff-mini ff-disc__body">
            <ul class="ff-bul">
              <li>Community visibility on a high-trust donation page</li>
              <li>Share-ready kit for social posts + group chats</li>
              <li>Top-sponsor spotlight for premium tiers (when enabled)</li>
            </ul>
          </div>
        </details>
      </article>

      <!-- LEADERBOARD + WALL -->
      <article class="ff-card ff-card--lift ff-pad" aria-labelledby="leaderboardTitle">
        <div class="ff-row ff-row--between ff-sponsors__panelhead">
          <div class="ff-sponsors__panelcopy">
            <div class="ff-kicker">Leaderboard</div>
            <div class="ff-card__title" id="leaderboardTitle">Top sponsors</div>
            <p class="ff-help">Live ranking updates as gifts come in.</p>
          </div>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share</button>
        </div>

        <div
          class="ff-notice ff-sponsors__spotlight"
          id="sponsorSpotlight"
          hidden
          aria-live="polite"
          aria-atomic="true"
        >
          <div class="ff-kicker">Sponsor spotlight</div>
          <p class="ff-help ff-sponsors__spotlightcopy">
            <strong class="ff-num" id="spotlightName">—</strong>
            <span id="spotlightBlurb"> is currently leading.</span>
          </p>
          <a
            class="ff-btn ff-btn--secondary ff-btn--sm"
            id="spotlightLink"
            href="#"
            target="_blank"
            rel="noopener"
            hidden
          >
            Visit sponsor
          </a>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <div
          id="sponsorLeaderboard"
          class="ff-stack ff-sponsors__board"
          role="list"
          aria-label="Sponsor leaderboard list"
          aria-live="polite"
        >
          <div class="ff-skel" aria-hidden="true" style="height: 58px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 58px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 58px"></div>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <div class="ff-row ff-row--between ff-sponsors__wallhead">
          <div class="ff-sponsors__panelcopy">
            <div class="ff-kicker">Sponsor wall</div>
            <p class="ff-help">Logos/names render automatically when provided in checkout.</p>
          </div>
          <a class="ff-btn ff-btn--ghost ff-btn--sm" href="#donate">Add your logo</a>
        </div>

        <div
          id="sponsorWall"
          class="ff-grid ff-grid--3 ff-sponsors__wall"
          role="list"
          aria-label="Sponsor wall"
          aria-live="polite"
        >
          <div class="ff-skel" aria-hidden="true" style="height: 96px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 96px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 96px"></div>
        </div>

        <div class="ff-row ff-sponsors__cta" role="group" aria-label="Sponsor actions">
          <a class="ff-btn ff-btn--primary" href="#donate">Become a sponsor</a>
          <button class="ff-btn ff-btn--secondary" type="button" data-ff-sponsor-kit-open>Open sponsor kit</button>
          <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
        </div>

        <p class="ff-help ff-sponsors__fineprint">
          Premium flex: sponsor “claim badge” + featured rotation in hero.
        </p>
      </article>
    </div>
  </div>
</section>

      <!-- TEAMS (unchanged IDs/hooks; premium-grade microcopy tightening only) -->
<section id="teams" class="ff-section ff-teams" aria-labelledby="teamsTitle" data-ff-teams>
  <div class="container">
    <header class="ff-card ff-card--lift ff-pad ff-teams__head">
      <div class="ff-row ff-row--between ff-teams__headrow">
        <div class="ff-teams__intro">
          <div class="ff-kicker">Teams</div>
          <h2 id="teamsTitle" class="ff-h2">Support a team — or the whole program.</h2>
          <p class="ff-lead">
            Team tags help recognition and reporting. Unless a team is <strong>Restricted</strong>, donations support the full program.
          </p>

          <ul class="ff-row ff-teams__pills" aria-label="Teams summary">
            <li><span class="ff-pill">Teams: <span class="ff-num" id="teamsCount">—</span></span></li>
            <li><span class="ff-pill">Featured: <span class="ff-num" id="teamsFeaturedCount">—</span></span></li>
            <li><span class="ff-pill">Needing support: <span class="ff-num" id="teamsNeedsCount">—</span></span></li>
            <li>
              <span class="ff-pill ff-pill--accent" id="teamsFilterPill" aria-live="polite" aria-atomic="true">All teams</span>
            </li>
            <li><span class="ff-pill" hidden data-ff-premium-only>Team pages</span></li>
          </ul>
        </div>

        <div class="ff-row ff-teams__actions" role="group" aria-label="Teams actions">
          <a class="ff-btn ff-btn--secondary ff-btn--sm" href="#donate" data-ff-team-tag="all">Donate to all</a>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share teams</button>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-copy-link>Copy link</button>
        </div>
      </div>
    </header>

    <div class="ff-grid ff-grid--2 ff-teams__tools" aria-label="Team tools and spotlight">
      <!-- Spotlight -->
      <aside class="ff-mini ff-mini--callout ff-teams__spotlight" aria-label="Team spotlight" data-ff-team-spotlight>
        <div class="ff-kicker">Spotlight</div>
        <div class="ff-mini__title"><span id="teamSpotlightTitle">Team of the week</span></div>
        <p class="ff-help" id="teamSpotlightDesc">
          Highlight one team to drive shares and larger gifts. Premium can auto-rotate weekly.
        </p>

        <div class="ff-notice ff-teams__spotlightcard" id="teamSpotlightCard" hidden aria-live="polite" aria-atomic="true">
          <div class="ff-kicker">Featured team</div>

          <img
            data-spotlight-image
            class="ff-team__img"
            alt=""
            loading="lazy"
            decoding="async"
            hidden
          />

          <p class="ff-help ff-teams__spotlightcopy">
            <strong class="ff-num" id="teamSpotlightName">—</strong>
            <span id="teamSpotlightBlurb"> needs support this week.</span>
          </p>

          <div class="ff-row ff-teams__spotlightcta" role="group" aria-label="Spotlight actions">
            <a class="ff-btn ff-btn--primary ff-btn--sm" href="#donate" id="teamSpotlightDonate" data-ff-team-tag="">
              Donate to this team
            </a>
            <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share</button>
          </div>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <div class="ff-kicker">Conversion tip</div>
        <div class="ff-mini__title">Weekly update → more gifts</div>
        <p class="ff-help">
          A photo + 2–3 sentences boosts trust and sharing. Premium: schedule posts + auto-share cards.
        </p>

        <div class="ff-row ff-teams__tipcta" role="group" aria-label="Update actions">
          <button
            class="ff-btn ff-btn--secondary ff-btn--sm"
            id="openUpdatePrompt"
            data-feature="updates"
            disabled
            aria-disabled="true"
          >
            Post an update
          </button>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share</button>
        </div>
      </aside>

      <!-- Filters/Search/Sort -->
      <article class="ff-card ff-card--lift ff-pad ff-teams__filters" aria-label="Team selection tools">
        <div class="ff-row ff-row--between ff-teams__filterhead">
          <div class="ff-teams__filtercopy">
            <div class="ff-card__title">Find a team <span class="ff-help">(optional)</span></div>
            <p class="ff-help">
              Tag your gift to a team — or keep <strong>All teams</strong> for program-wide impact.
            </p>
          </div>

          <div class="ff-seg" role="group" aria-label="Team filter" id="teamFilter">
            <button type="button" data-team-filter="all" aria-pressed="true">All</button>
            <button type="button" data-team-filter="featured" aria-pressed="false">Featured</button>
            <button type="button" data-team-filter="needs" aria-pressed="false">Needs</button>
          </div>
        </div>

        <div class="ff-grid ff-grid--2 ff-teams__inputs" aria-label="Search and sort">
          <div class="ff-field">
            <label for="teamSearch">Search teams</label>
            <input
              id="teamSearch"
              class="ff-input"
              type="search"
              placeholder="Type a team name…"
              autocomplete="off"
            />
            <p class="ff-help">Try “12U”, “14U”, “Elite”, or a coach’s name.</p>
          </div>

          <div class="ff-field">
            <label for="teamSort">Sort</label>
            <select id="teamSort" class="ff-input" data-ff-team-sort>
              <option value="featured">Featured first</option>
              <option value="needs">Needs support</option>
              <option value="raised">Most raised</option>
              <option value="new">Newest</option>
              <option value="name">A → Z</option>
            </select>
            <p class="ff-help">Sorting changes what shows first — ideal for sharing.</p>
          </div>
        </div>

        <div class="ff-notice ff-teams__notice" id="teamsEmpty" hidden aria-live="polite" aria-atomic="true">
          <div class="ff-kicker">No matches</div>
          <p class="ff-help">Try a different name, or switch back to <strong>All</strong>.</p>
        </div>

        <div class="ff-notice ff-teams__notice" id="teamsRestrictedNotice" hidden aria-live="polite" aria-atomic="true">
          <div class="ff-kicker">Note</div>
          <p class="ff-help">
            Some teams may be marked <strong>Restricted</strong> by the organizer (funds stay with that team).
          </p>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <details class="ff-disc" aria-label="Team tagging explained">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">Team tagging</span><br />
              <span class="ff-help">What does “restricted” mean?</span>
            </span>
            <span class="ff-pill" aria-hidden="true">Open</span>
          </summary>
          <div class="ff-mini ff-disc__body">
            <p class="ff-help">
              Most gifts support the full program. If a team is <strong>Restricted</strong>, gifts tagged to that team stay with that team.
            </p>
          </div>
        </details>
      </article>
    </div>

    <div class="ff-row ff-row--between ff-teams__browsehead" aria-label="Browse teams header">
      <div class="ff-teams__browsecopy">
        <div class="ff-kicker">Browse teams</div>
        <p class="ff-help">
          Tap a team to pre-fill checkout with a tag. Look for <strong>Needs support</strong> badges.
        </p>
      </div>

      <div class="ff-row ff-teams__browseactions" role="group" aria-label="Browse actions">
        <a class="ff-btn ff-btn--secondary ff-btn--sm" href="#donate" data-ff-team-tag="all">Donate to all</a>
        <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share</button>
        <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-copy-link>Copy link</button>
      </div>
    </div>

    <div id="teamsGrid" class="ff-grid ff-grid--3 ff-teams__grid" role="list" aria-label="Team cards">
      <div class="ff-skel" aria-hidden="true" style="height: 320px"></div>
      <div class="ff-skel" aria-hidden="true" style="height: 320px"></div>
      <div class="ff-skel" aria-hidden="true" style="height: 320px"></div>
    </div>

    <template id="teamCardTpl">
      <article class="ff-card ff-card--lift ff-pad ff-team" role="listitem" data-team-card data-team-id="">
        <div class="ff-row ff-row--between ff-team__top">
          <div class="ff-minw0">
            <div class="ff-row ff-team__badges">
              <span class="ff-pill ff-pill--accent" data-team-badge-featured hidden>Featured</span>
              <span class="ff-pill" data-team-badge-needs hidden>Needs support</span>
              <span class="ff-pill" data-team-badge-restricted hidden>Restricted</span>
            </div>

            <img
              data-team-image
              class="ff-team__img"
              alt=""
              loading="lazy"
              decoding="async"
              hidden
            />

            <div class="ff-card__title ff-team__name" data-team-name>Team Name</div>
            <p class="ff-help ff-team__meta" data-team-meta>12U • Coach Name</p>
          </div>

          <span class="ff-pill ff-team__slots" data-team-slots hidden aria-label="Sponsor slots remaining">
            Slots left: <span class="ff-num" data-team-slots-left>—</span>
          </span>
        </div>

        <div
          class="ff-meter ff-team__meter"
          role="progressbar"
          aria-valuemin="0"
          aria-valuemax="100"
          aria-valuenow="0"
          aria-valuetext="0% funded"
          data-team-meter
        >
          <div class="ff-meter__ticks" aria-hidden="true">
            <i style="left: 25%"></i><i style="left: 50%"></i><i style="left: 75%"></i><i style="left: 100%"></i>
          </div>
          <span data-team-bar></span>
        </div>

        <div class="ff-row ff-row--between ff-team__nums">
          <span class="ff-help">Raised: <strong class="ff-num" data-team-raised>$0</strong></span>
          <span class="ff-help">Goal: <strong class="ff-num" data-team-goal>$0</strong></span>
          <span class="ff-help"><strong class="ff-num" data-team-pct>0</strong>%</span>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <div class="ff-row ff-team__cta" role="group" aria-label="Team actions">
          <a class="ff-btn ff-btn--primary ff-btn--sm" href="#donate" data-ff-team-tag="" data-team-donate>Donate to this team</a>
          <button class="ff-btn ff-btn--secondary ff-btn--sm" type="button" data-ff-share-open data-team-share>Share team</button>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-copy-link data-team-copy>Copy link</button>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" hidden data-ff-premium-only data-team-page>View team page</button>
        </div>

        <p class="ff-help ff-team__ask" data-team-ask>
          Suggested ask: “Help us with tournament fees this month.”
        </p>
      </article>
    </template>
  </div>
</section>

      <!-- DONATE -->
      <section id="donate" class="ff-section" aria-labelledby="donateTitle" data-ff-donate>
        <div class="container">
          <header class="ff-card ff-card--lift ff-pad">
            <div class="ff-row ff-row--between" style="align-items: flex-start">
              <div style="min-width: 0">
                <div class="ff-kicker">Donate</div>
                <h2 id="donateTitle" class="ff-h2">Secure checkout. Instant receipt. Maximum impact.</h2>
                <p class="ff-lead">No account required. Your donation stays on this page and processes securely through Stripe.</p>
                <div class="ff-row" style="margin-top: 12px">
                  <span class="ff-pill ff-pill--accent" id="donatePrefillPill" hidden>Prefilled</span>
                  <span class="ff-pill" id="donateMatchPill" hidden>Match active</span>
                  <span class="ff-pill">Apple Pay / Google Pay supported</span>
                  <span class="ff-pill">Email receipt</span>
                </div>
              </div>

              <div class="ff-row" role="group" aria-label="Donate actions">
                <button class="ff-btn ff-btn--secondary" type="button" data-ff-share-open>Share</button>
                <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
              </div>
            </div>
          </header>

          <div class="ff-grid ff-grid--2" style="margin-top: 16px; align-items: start">
            <article class="ff-card ff-card--lift ff-pad" aria-label="Donation form">
              <div id="matchNotice" class="ff-notice" hidden style="margin-bottom: 12px">
                <div class="ff-kicker">Match active</div>
                <p class="ff-help" style="margin-top: 6px">
                  Your donation may be matched while the match window is open.
                  <span class="ff-num" id="matchCountdown" style="margin-left: 6px">—</span>
                </p>
              </div>

              <div id="tierNotice" class="ff-notice" hidden style="margin-bottom: 12px">
                <div class="ff-kicker">Sponsor tier selected</div>
                <p class="ff-help" style="margin-top: 6px">
                  Tier: <strong class="ff-num" id="tierName">—</strong> — recognition will apply automatically.
                </p>
              </div>

              <div id="formError" class="ff-alert" role="alert" hidden></div>

              <form id="donationForm" class="ff-stack" novalidate>
                <input type="hidden" id="frequencyHidden" name="frequency" value="once" />
                <input type="hidden" id="ffTotalHidden" name="total" value="" />
                <input type="hidden" id="ffIdemHidden" name="idem_key" value="" />
                <input type="hidden" id="selectedTeamId" name="team_id" value="all" />
                <input type="hidden" id="selectedTierId" name="tier_id" value="" />
                <input type="hidden" id="payMethodHidden" name="pay_method" value="stripe" />

                <div class="ff-grid ff-grid--2" style="align-items: end">
                  <div class="ff-field">
                    <label for="amountInput">Amount</label>
                    <div class="ff-inputrow">
                      <span class="ff-prefix">$</span>
                      <input
                        id="amountInput"
                        class="ff-input"
                        type="text"
                        inputmode="decimal"
                        autocomplete="off"
                        placeholder="75"
                        aria-describedby="amountHelp amountErr"
                      />
                      <button class="ff-btn ff-btn--secondary ff-btn--sm" type="button" data-ff-open-checkout style="margin-right: 8px">
                        Checkout
                      </button>
                    </div>
                    <p class="ff-help" id="amountHelp">Enter a gift amount. You can also tap quick gifts above.</p>
                    <p class="ff-help" id="amountErr" hidden style="color: rgb(239 68 68 / .92)">Enter a valid amount.</p>
                  </div>

                  <div class="ff-field">
                    <label for="teamSelect">Team tag (optional)</label>
                    <select id="teamSelect" class="ff-input" aria-label="Select a team to tag your donation">
                      <option value="all">All teams • Support the full program</option>
                    </select>
                    <p class="ff-help">Tagging helps recognition + reporting.</p>
                  </div>
                </div>

                <div class="ff-row ff-row--between" style="align-items: flex-start">
                  <div style="min-width: 0">
                    <div class="ff-kicker">Frequency</div>
                    <p class="ff-help">Monthly gifts help planning and stability.</p>
                  </div>
                  <div class="ff-seg" role="group" aria-label="Donation frequency" id="donateFreqSeg">
                    <button type="button" data-freq="once" aria-pressed="true">One-time</button>
                    <button type="button" data-freq="monthly" aria-pressed="false">Monthly</button>
                  </div>
                </div>

                <div class="ff-row ff-row--between" style="align-items: flex-start">
                  <div style="min-width: 0">
                    <div class="ff-kicker">Payment</div>
                    <p class="ff-help">Card, Apple Pay, Google Pay (where available).</p>
                  </div>
                  <div class="ff-row" role="group" aria-label="Payment methods">
                    <button class="ff-chip" id="paypalChip" type="button" data-pay-method="paypal" aria-pressed="false">PayPal</button>
                    <button class="ff-chip" type="button" data-pay-method="stripe" aria-pressed="true">Card</button>
                  </div>
                </div>

                <div class="ff-grid ff-grid--2" style="align-items: start">
                  <label class="ff-checkrow">
                    <input id="roundUp" type="checkbox" />
                    Round up to the next $5
                  </label>

                  <label class="ff-checkrow">
                    <input id="coverFees" type="checkbox" />
                    Cover processing fees (optional)
                  </label>
                </div>

                <div class="ff-notice" id="coversNotice" hidden>
                  <div class="ff-kicker">Fee coverage</div>
                  <p class="ff-help" style="margin-top: 6px" id="coversText">—</p>
                </div>

                <div class="ff-grid ff-grid--2" style="align-items: end">
                  <div class="ff-field">
                    <label for="nameInput">Name (optional)</label>
                    <input id="nameInput" class="ff-input" autocomplete="name" placeholder="Your name" />
                    <p class="ff-help">Leave blank to donate as “Donor”.</p>
                  </div>

                  <div class="ff-field">
                    <label for="emailInput">Email (receipt)</label>
                    <input
                      id="emailInput"
                      class="ff-input"
                      type="email"
                      autocomplete="email"
                      inputmode="email"
                      placeholder="you@email.com"
                      required
                    />
                    <p class="ff-help">Receipt is delivered instantly after payment.</p>
                  </div>
                </div>

                <div class="ff-field">
                  <label for="noteInput">Message (optional)</label>
                  <textarea id="noteInput" class="ff-input" rows="3" placeholder="A quick note for the program…"></textarea>
                  <p class="ff-help">This can show publicly if you choose recognition.</p>
                </div>

                <details class="ff-disc" id="sponsorFieldsWrap" hidden>
                  <summary class="ff-disc__sum">
                    <span>
                      <span class="ff-kicker">Sponsor details</span><br />
                      <span class="ff-help">Logo + website + display name</span>
                    </span>
                    <span class="ff-pill">Open</span>
                  </summary>

                  <div class="ff-grid ff-grid--2" style="margin-top: 10px; align-items: end">
                    <div class="ff-field">
                      <label for="companyInput">Company / Sponsor name</label>
                      <input id="companyInput" class="ff-input" autocomplete="organization" placeholder="Business name" />
                      <p class="ff-help">Used on the sponsor wall + leaderboard.</p>
                    </div>

                    <div class="ff-field">
                      <label for="websiteInput">Website (optional)</label>
                      <input id="websiteInput" class="ff-input" type="url" autocomplete="url" inputmode="url" placeholder="https://example.com" />
                      <p class="ff-help">Only http(s) links are allowed.</p>
                    </div>
                  </div>

                  <div class="ff-field" style="margin-top: 10px">
                    <label for="logoUrlInput">Logo URL (optional)</label>
                    <input id="logoUrlInput" class="ff-input" type="url" autocomplete="url" inputmode="url" placeholder="https://…/logo.png" />
                    <p class="ff-help">Premium flex: upload logo directly (no URL needed).</p>
                  </div>

                  <div class="ff-grid ff-grid--2" style="margin-top: 10px; align-items: start">
                    <label class="ff-checkrow">
                      <input id="sponsorPublic" type="checkbox" checked />
                      Display sponsor publicly
                    </label>
                    <label class="ff-checkrow">
                      <input id="sponsorPreferred" type="checkbox" />
                      Prefer “Featured sponsor” placement (when available)
                    </label>
                  </div>
                </details>

                <div class="ff-grid ff-grid--2" style="align-items: start">
                  <label class="ff-checkrow">
                    <input id="donorAnonymous" type="checkbox" />
                    Donate anonymously
                  </label>
                  <label class="ff-checkrow">
                    <input id="updatesOptIn" type="checkbox" />
                    Receive campaign updates (optional)
                  </label>
                </div>

                <div class="ff-field">
                  <label for="refCodeInput">Referral / code (optional)</label>
                  <input id="refCodeInput" class="ff-input" autocomplete="off" placeholder="Code" />
                  <p class="ff-help">Used for attribution (coach/parent/business outreach).</p>
                </div>

                <div class="ff-divider" aria-hidden="true"></div>

                <div id="stripePaymentWrap" class="ff-mini" hidden>
                  <div class="ff-kicker">Inline payment (optional)</div>
                  <p class="ff-help">Default experience uses the secure modal checkout.</p>
                  <div id="paymentElement" data-ff-stripe-element style="margin-top: 10px">
                    <div class="ff-skel" aria-hidden="true" style="height: 56px"></div>
                  </div>
                </div>

                <div id="paypalPaymentWrap" class="ff-mini" hidden>
                  <div class="ff-kicker">PayPal</div>
                  <p class="ff-help">If PayPal is enabled on this campaign, the button will appear here.</p>
                  <div id="paypalBtn" style="margin-top: 10px"></div>
                </div>

                <div class="ff-row" role="group" aria-label="Donation CTA">
                  <button class="ff-btn ff-btn--primary" type="button" data-ff-open-checkout>Secure checkout</button>
                  <button class="ff-btn ff-btn--secondary" type="button" data-ff-share-open>Share</button>
                  <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
                </div>

                <p class="ff-help">
                  By donating you agree to the Terms and Privacy. Card details never touch our servers.
                </p>

                <div id="recognitionNotice" class="ff-notice" hidden>
                  <div class="ff-kicker">Recognition</div>
                  <p class="ff-help" style="margin-top: 6px">Sponsor gifts may display name/logo publicly if enabled.</p>
                </div>

                <div id="sponsorUpsell" class="ff-mini ff-mini--callout" hidden>
                  <div class="ff-kicker">Sponsor upgrade</div>
                  <div class="ff-mini__title">Add a logo + link for premium recognition</div>
                  <p class="ff-help">If you’re donating as a business, open Sponsor details above.</p>
                </div>

                <details class="ff-disc" style="margin-top: 10px">
                  <summary class="ff-disc__sum">
                    <span>
                      <span class="ff-kicker">Trust center</span><br />
                      <span class="ff-help">Security + receipts + privacy</span>
                    </span>
                    <span class="ff-pill">Open</span>
                  </summary>
                  <div class="ff-mini" style="margin-top: 10px">
                    <ul class="ff-bul">
                      <li>Encrypted payments via Stripe; card details never touch our servers.</li>
                      <li>Instant email receipt after successful payment.</li>
                      <li>Optional anonymity; sponsor recognition is opt-in.</li>
                    </ul>
                  </div>
                </details>
              </form>
            </article>

            <aside class="ff-card ff-card--lift ff-pad" aria-label="Donation summary">
              <div class="ff-row ff-row--between" style="align-items: flex-start">
                <div style="min-width: 0">
                  <div class="ff-kicker">Summary</div>
                  <div class="ff-card__title">Review before checkout</div>
                  <p class="ff-help">We’ll confirm securely in the next step.</p>
                </div>
                <span class="ff-pill" id="summaryMatchPill" hidden>Match</span>
              </div>

              <div class="ff-divider" aria-hidden="true"></div>

              <div class="ff-stack" style="gap: 10px">
                <div class="ff-mini">
                  <div class="ff-row ff-row--between">
                    <span class="ff-help">Amount</span>
                    <strong class="ff-num" id="summaryAmount">$0</strong>
                  </div>
                  <div class="ff-row ff-row--between" style="margin-top: 8px">
                    <span class="ff-help">Frequency</span>
                    <strong class="ff-num" id="summaryFreq">One-time</strong>
                  </div>
                  <div class="ff-row ff-row--between" style="margin-top: 8px">
                    <span class="ff-help">Team</span>
                    <strong class="ff-num" id="summaryTeam">All teams</strong>
                  </div>
                </div>

                <div class="ff-notice">
                  <div class="ff-row ff-row--between">
                    <span class="ff-help">Total today</span>
                    <strong class="ff-num" id="summaryTotal">$0</strong>
                  </div>
                  <p class="ff-help" style="margin-top: 6px">Receipt sent immediately after payment.</p>
                </div>

                <div class="ff-mini">
                  <div class="ff-kicker">Trust</div>
                  <ul class="ff-bul" style="margin-top: 8px">
                    <li>Stripe encrypted checkout</li>
                    <li>Email receipt instantly</li>
                    <li>Apple Pay / Google Pay (where available)</li>
                  </ul>

                  <div class="ff-row" role="group" aria-label="Summary actions" style="margin-top: 12px">
                    <button class="ff-btn ff-btn--primary" type="button" data-ff-open-checkout>Secure checkout</button>
                    <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
                  </div>
                </div>

                <!-- Optional premium-only: membership rail (hidden; no scroll cost) -->
                <div class="ff-mini ff-mini--callout" hidden data-ff-premium-only aria-label="Memberships">
                  <div class="ff-kicker">Memberships</div>
                  <div class="ff-mini__title">Season supporter options (premium)</div>
                  <p class="ff-help">Turn monthly gifts into “Supporter memberships” with perks and badges.</p>
                </div>
              </div>
            </aside>
          </div>
        </div>
      </section>

      <!-- UPDATES (premium-only; polished + hook-friendly) -->
<section
  id="updates"
  class="ff-section"
  aria-labelledby="updatesTitle"
  data-ff-updates
  hidden
  data-ff-premium-only
>
  <div class="container">
    <header class="ff-card ff-card--lift ff-pad">
      <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 14px">
        <div style="min-width: 0">
          <div class="ff-kicker">Updates</div>
          <h2 id="updatesTitle" class="ff-h2">Weekly updates that drive more gifts.</h2>
          <p class="ff-lead">
            A photo + a short recap builds trust, increases shares, and keeps donors coming back.
          </p>

          <div class="ff-row" style="margin-top: 12px; flex-wrap: wrap">
            <span class="ff-pill">Photo + recap</span>
            <span class="ff-pill">Share-ready</span>
            <span class="ff-pill">Timeline proof</span>
            <span class="ff-pill" hidden data-ff-premium-only>Auto share cards</span>
          </div>
        </div>

        <div class="ff-row" role="group" aria-label="Updates actions" style="flex-wrap: wrap">
          <button
            class="ff-btn ff-btn--primary"
            type="button"
            data-ff-update-new
            disabled
            aria-disabled="true"
          >
            New update
          </button>
          <button class="ff-btn ff-btn--secondary" type="button" data-ff-share-open>Share</button>
          <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
        </div>
      </div>

      <div class="ff-divider" aria-hidden="true"></div>

      <details class="ff-disc" aria-label="Why updates work">
        <summary class="ff-disc__sum">
          <span>
            <span class="ff-kicker">Why this works</span><br />
            <span class="ff-help">Simple cadence, bigger conversions</span>
          </span>
          <span class="ff-pill">Open</span>
        </summary>

        <div class="ff-grid ff-grid--3" style="margin-top: 12px">
          <div class="ff-mini">
            <div class="ff-kicker">1</div>
            <div class="ff-mini__title">Proof</div>
            <p class="ff-help">Donors see progress and feel confident giving again.</p>
          </div>
          <div class="ff-mini">
            <div class="ff-kicker">2</div>
            <div class="ff-mini__title">Momentum</div>
            <p class="ff-help">A weekly post becomes a weekly share.</p>
          </div>
          <div class="ff-mini">
            <div class="ff-kicker">3</div>
            <div class="ff-mini__title">Bigger gifts</div>
            <p class="ff-help">Sponsors love recognition tied to real updates.</p>
          </div>
        </div>
      </details>
    </header>

    <div class="ff-grid ff-grid--2" style="margin-top: 16px; align-items: start">
      <!-- Feed -->
      <article class="ff-card ff-card--lift ff-pad" aria-label="Updates feed">
        <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 12px">
          <div style="min-width: 0">
            <div class="ff-kicker">Feed</div>
            <div class="ff-card__title">Latest from the program</div>
            <p class="ff-help">
              Premium: scheduled posts, auto share cards, and a receipts/proof vault.
            </p>
          </div>

          <span class="ff-pill" aria-label="Premium feature">Premium</span>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <!-- KEEP: #updatesFeed (JS hook) -->
        <div class="ff-stack" id="updatesFeed" role="list" aria-label="Updates list" style="margin-top: 12px">
          <div class="ff-skel" aria-hidden="true" style="height: 86px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 86px"></div>
        </div>

        <!-- Empty state (safe; JS can toggle) -->
        <div class="ff-notice" id="updatesEmpty" hidden aria-live="polite" aria-atomic="true" style="margin-top: 12px">
          <div class="ff-kicker">No updates yet</div>
          <p class="ff-help">
            First post idea: “What we’re fundraising for this week” + one photo.
          </p>
        </div>
      </article>

      <!-- Posting guide / organizer rail -->
      <aside class="ff-mini ff-mini--callout" aria-label="Organizer guide">
        <div class="ff-kicker">Organizer playbook</div>
        <div class="ff-mini__title">One post per week is enough</div>
        <p class="ff-help">
          Keep it short: 1 photo + 2–3 sentences + a direct ask. Donors respond to clarity.
        </p>

        <div class="ff-divider" aria-hidden="true"></div>

        <div class="ff-kicker">Template</div>
        <ul class="ff-bul" style="margin-top: 8px">
          <li><strong>Win:</strong> “We covered gym time this week.”</li>
          <li><strong>Need:</strong> “Next up: tournament fees.”</li>
          <li><strong>Ask:</strong> “$75 sponsors one player’s entry.”</li>
        </ul>

        <div class="ff-row" style="margin-top: 12px; flex-wrap: wrap" role="group" aria-label="Update actions">
          <button
            class="ff-btn ff-btn--primary ff-btn--sm"
            type="button"
            data-ff-update-new
            disabled
            aria-disabled="true"
          >
            Post an update
          </button>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share</button>
          <a class="ff-btn ff-btn--ghost ff-btn--sm" href="#donate">Donate</a>
        </div>

        <p class="ff-help" style="margin-top: 10px">
          Premium flex: auto-generate share cards + schedule posts + attach receipts/photos privately.
        </p>
      </aside>
    </div>
  </div>
</section>

<!-- UPDATES (premium-only; polished + hook-friendly) -->
<section
  id="updates"
  class="ff-section"
  aria-labelledby="updatesTitle"
  data-ff-updates
  hidden
  data-ff-premium-only
>
  <div class="container">
    <header class="ff-card ff-card--lift ff-pad">
      <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 14px">
        <div style="min-width: 0">
          <div class="ff-kicker">Updates</div>
          <h2 id="updatesTitle" class="ff-h2">Weekly updates that drive more gifts.</h2>
          <p class="ff-lead">
            A photo + a short recap builds trust, increases shares, and keeps donors coming back.
          </p>

          <div class="ff-row" style="margin-top: 12px; flex-wrap: wrap">
            <span class="ff-pill">Photo + recap</span>
            <span class="ff-pill">Share-ready</span>
            <span class="ff-pill">Timeline proof</span>
            <span class="ff-pill" hidden data-ff-premium-only>Auto share cards</span>
          </div>
        </div>

        <div class="ff-row" role="group" aria-label="Updates actions" style="flex-wrap: wrap">
          <button
            class="ff-btn ff-btn--primary"
            type="button"
            data-ff-update-new
            disabled
            aria-disabled="true"
          >
            New update
          </button>
          <button class="ff-btn ff-btn--secondary" type="button" data-ff-share-open>Share</button>
          <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
        </div>
      </div>

      <div class="ff-divider" aria-hidden="true"></div>

      <details class="ff-disc" aria-label="Why updates work">
        <summary class="ff-disc__sum">
          <span>
            <span class="ff-kicker">Why this works</span><br />
            <span class="ff-help">Simple cadence, bigger conversions</span>
          </span>
          <span class="ff-pill">Open</span>
        </summary>

        <div class="ff-grid ff-grid--3" style="margin-top: 12px">
          <div class="ff-mini">
            <div class="ff-kicker">1</div>
            <div class="ff-mini__title">Proof</div>
            <p class="ff-help">Donors see progress and feel confident giving again.</p>
          </div>
          <div class="ff-mini">
            <div class="ff-kicker">2</div>
            <div class="ff-mini__title">Momentum</div>
            <p class="ff-help">A weekly post becomes a weekly share.</p>
          </div>
          <div class="ff-mini">
            <div class="ff-kicker">3</div>
            <div class="ff-mini__title">Bigger gifts</div>
            <p class="ff-help">Sponsors love recognition tied to real updates.</p>
          </div>
        </div>
      </details>
    </header>

    <div class="ff-grid ff-grid--2" style="margin-top: 16px; align-items: start">
      <!-- Feed -->
      <article class="ff-card ff-card--lift ff-pad" aria-label="Updates feed">
        <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 12px">
          <div style="min-width: 0">
            <div class="ff-kicker">Feed</div>
            <div class="ff-card__title">Latest from the program</div>
            <p class="ff-help">
              Premium: scheduled posts, auto share cards, and a receipts/proof vault.
            </p>
          </div>

          <span class="ff-pill" aria-label="Premium feature">Premium</span>
        </div>

        <div class="ff-divider" aria-hidden="true"></div>

        <!-- KEEP: #updatesFeed (JS hook) -->
        <div
          class="ff-stack"
          id="updatesFeed"
          role="list"
          aria-label="Updates list"
          style="margin-top: 12px"
        >
          <div class="ff-skel" aria-hidden="true" style="height: 86px"></div>
          <div class="ff-skel" aria-hidden="true" style="height: 86px"></div>
        </div>

        <!-- Empty state (safe; JS can toggle) -->
        <div
          class="ff-notice"
          id="updatesEmpty"
          hidden
          aria-live="polite"
          aria-atomic="true"
          style="margin-top: 12px"
        >
          <div class="ff-kicker">No updates yet</div>
          <p class="ff-help">
            First post idea: “What we’re fundraising for this week” + one photo.
          </p>
        </div>
      </article>

      <!-- Posting guide / organizer rail -->
      <aside class="ff-mini ff-mini--callout" aria-label="Organizer guide">
        <div class="ff-kicker">Organizer playbook</div>
        <div class="ff-mini__title">One post per week is enough</div>
        <p class="ff-help">
          Keep it short: 1 photo + 2–3 sentences + a direct ask. Donors respond to clarity.
        </p>

        <div class="ff-divider" aria-hidden="true"></div>

        <div class="ff-kicker">Template</div>
        <ul class="ff-bul" style="margin-top: 8px">
          <li><strong>Win:</strong> “We covered gym time this week.”</li>
          <li><strong>Need:</strong> “Next up: tournament fees.”</li>
          <li><strong>Ask:</strong> “$75 sponsors one player’s entry.”</li>
        </ul>

        <div class="ff-row" style="margin-top: 12px; flex-wrap: wrap" role="group" aria-label="Update actions">
          <button
            class="ff-btn ff-btn--primary ff-btn--sm"
            type="button"
            data-ff-update-new
            disabled
            aria-disabled="true"
          >
            Post an update
          </button>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open>Share</button>
          <a class="ff-btn ff-btn--ghost ff-btn--sm" href="#donate">Donate</a>
        </div>

        <p class="ff-help" style="margin-top: 10px">
          Premium flex: auto-generate share cards + schedule posts + attach receipts/photos privately.
        </p>
      </aside>
    </div>
  </div>
</section>

<!-- FAQ (polished; same structure + tighter copy) -->
<section id="faq" class="ff-section ff-section--compact" aria-labelledby="faqTitle">
  <div class="container">
    <header class="ff-card ff-card--lift ff-pad">
      <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 14px">
        <div style="min-width: 0">
          <div class="ff-kicker">FAQ</div>
          <h2 id="faqTitle" class="ff-h2">Fast answers for donors & sponsors</h2>
          <p class="ff-lead">Designed to remove doubt and increase conversion.</p>

          <div class="ff-row" style="margin-top: 12px; flex-wrap: wrap">
            <span class="ff-pill">Security</span>
            <span class="ff-pill">Receipts</span>
            <span class="ff-pill">Sponsors</span>
            <span class="ff-pill">Monthly</span>
          </div>
        </div>

        <div class="ff-row" role="group" aria-label="FAQ actions" style="flex-wrap: wrap">
          <button class="ff-btn ff-btn--secondary" type="button" data-ff-share-open>Share</button>
          <button class="ff-btn ff-btn--ghost" type="button" data-ff-copy-link>Copy link</button>
          <a class="ff-btn ff-btn--primary" href="#donate">Donate</a>
        </div>
      </div>

      <div class="ff-divider" aria-hidden="true"></div>

      <div class="ff-stack">
        <details class="ff-disc">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">Security</span><br />
              <span class="ff-help">Is checkout safe?</span>
            </span>
            <span class="ff-pill">Open</span>
          </summary>
          <div class="ff-mini" style="margin-top: 10px">
            <p class="ff-help">Yes. Payments are encrypted and processed by Stripe. Card details never touch our servers.</p>
          </div>
        </details>

        <details class="ff-disc">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">Receipts</span><br />
              <span class="ff-help">Will I get a receipt?</span>
            </span>
            <span class="ff-pill">Open</span>
          </summary>
          <div class="ff-mini" style="margin-top: 10px">
            <p class="ff-help">Yes. Receipts are emailed instantly after payment completes.</p>
          </div>
        </details>

        <details class="ff-disc">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">Sponsors</span><br />
              <span class="ff-help">How does sponsor recognition work?</span>
            </span>
            <span class="ff-pill">Open</span>
          </summary>
          <div class="ff-mini" style="margin-top: 10px">
            <p class="ff-help">Select a tier and add sponsor details. If enabled, your logo/name appears on the wall + leaderboard automatically.</p>
          </div>
        </details>

        <details class="ff-disc">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">Anonymity</span><br />
              <span class="ff-help">Can I donate privately?</span>
            </span>
            <span class="ff-pill">Open</span>
          </summary>
          <div class="ff-mini" style="margin-top: 10px">
            <p class="ff-help">Yes. Turn on “Donate anonymously” in the donation form. Your receipt still arrives by email.</p>
          </div>
        </details>

        <details class="ff-disc">
          <summary class="ff-disc__sum">
            <span>
              <span class="ff-kicker">Monthly gifts</span><br />
              <span class="ff-help">Why monthly?</span>
            </span>
            <span class="ff-pill">Open</span>
          </summary>
          <div class="ff-mini" style="margin-top: 10px">
            <p class="ff-help">Monthly support helps planning and stability—especially for travel, gym time, and tournament fees.</p>
          </div>
        </details>
      </div>
    </header>
  </div>
</section>

<!-- =========================
  END OF MAIN CONTENT
========================== -->
</main>


    <!-- =========================
      FOOTER
    ========================== -->
    <footer class="ff-footer" role="contentinfo">
      <div class="container">
        <div class="ff-footer__grid">
          <section aria-label="Fundraiser brand and contact">
            <div class="ff-row" style="gap: 10px">
              <span class="ff-brand__mark" aria-hidden="true">
                <img id="footerBrandLogo" class="ff-brand__logo" alt="" width="46" height="46" loading="lazy" decoding="async" />
              </span>

              <div style="min-width: 0">
                <p class="ff-footer__title" id="footerOrgName">FutureFunded</p>
                <p class="ff-help" id="footerTagline">Fuel the season. Fund the future.</p>
              </div>
            </div>

            <div class="ff-row" aria-label="Trust signals" style="margin-top: 10px; flex-wrap: wrap">
              <span class="ff-pill">Verified</span>
              <span class="ff-pill">Secure Stripe checkout</span>
              <span class="ff-pill">Instant receipts</span>
            </div>

            <p class="ff-help" style="margin-top: 10px">
              Support: <a href="mailto:support@getfuturefunded.com">support@getfuturefunded.com</a>
            </p>

            <details class="ff-disc" style="margin-top: 10px">
              <summary class="ff-disc__sum">
                <span>
                  <span class="ff-kicker">Organizer</span><br />
                  <span class="ff-help">Program details</span>
                </span>
                <span class="ff-pill">Open</span>
              </summary>
              <div class="ff-mini" style="margin-top: 10px">
                <p class="ff-help" id="footerOrganizerLine">
                  {{ organizer_line|default('This fundraiser supports a youth program. Contact us for invoices, sponsor logos, and partnership options.') }}
                </p>
              </div>
            </details>
          </section>

          <nav aria-label="Footer navigation">
            <ul class="ff-footer__links">
              <li><a href="#progress">Progress</a></li>
              <li><a href="#impact">Impact</a></li>
              <li><a href="#sponsors">Sponsors</a></li>
              <li><a href="#teams">Teams</a></li>
              <li><a href="#donate">Donate</a></li>
              <li><a href="#faq">FAQ</a></li>
            </ul>
          </nav>

          <section aria-label="Footer calls to action">
            <div class="ff-row" role="group" aria-label="Primary footer CTAs" style="flex-wrap: wrap">
              <a class="ff-btn ff-btn--primary ff-btn--sm" href="#donate">Donate now</a>
              <a class="ff-btn ff-btn--secondary ff-btn--sm" href="#sponsors">Sponsor a tier</a>
            </div>

            <div class="ff-row" aria-label="Footer conversion signals" style="margin-top: 10px; flex-wrap: wrap">
              <span class="ff-pill">Share-ready link</span>
              <span class="ff-pill" id="footerSponsorSlots" hidden>
                Sponsor slots left: <span class="ff-num" id="footerSponsorSlotsNum">—</span>
              </span>
              <span class="ff-pill" hidden data-ff-premium-only>Auto updates</span>
            </div>

            <div class="ff-mini" style="margin-top: 10px">
              <ul class="ff-bul">
                <li>Card details never touch our servers.</li>
                <li>Receipts are emailed instantly after payment.</li>
              </ul>

              <div class="ff-row" role="group" aria-label="Footer share actions" style="margin-top: 10px; flex-wrap: wrap">
                <button class="ff-btn ff-btn--secondary ff-btn--sm" type="button" data-ff-share-open>Share</button>
                <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-copy-link>Copy link</button>
              </div>
            </div>
          </section>
        </div>

        <div class="ff-footer__legal">
          <div class="ff-row ff-row--between" style="flex-wrap: wrap; gap: 10px">
            <p class="ff-help" style="margin: 0">
              &copy; <span id="footerYear"></span> <span id="footerLegalName">FutureFunded</span>
            </p>

            <div class="ff-row" aria-label="Legal links" style="gap: 12px">
              <a class="ff-help" href="/terms" rel="nofollow">Terms</a>
              <a class="ff-help" href="/privacy" rel="nofollow">Privacy</a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- =========================
      GLOBAL UI (keep after footer)
    ========================== -->

    <!-- Toasts -->
    <section id="toastRegion" class="ff-toast" role="region" aria-label="Notifications" aria-live="polite" aria-atomic="false"></section>

    <!-- Sticky donate bar -->
    <div id="stickyDonate" class="ff-sticky" role="region" aria-label="Quick donate bar" data-ff-sticky-cta aria-hidden="true" hidden>
      <div class="ff-sticky__inner">
        <div class="ff-sticky__mini" style="min-width: 0">
          <div class="ff-row" style="gap: 8px; align-items: baseline; flex-wrap: wrap">
            <strong id="stickyOrg" class="ff-sticky__org">Organization</strong>
            <span class="ff-pill ff-pill--accent" id="stickyMatch" hidden>Match</span>
            <span class="ff-help" aria-hidden="true">•</span>
            <span id="stickyRaised" class="ff-num">$0</span>
            <span class="ff-help">raised</span>
          </div>

          <div class="ff-sticky__bar" role="progressbar" aria-label="Fundraising progress" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" aria-valuetext="0% funded">
            <span id="stickyBar" class="ff-sticky__barfill"></span>
          </div>

          <p class="ff-help" style="margin: 0">
            <span id="stickyPct" class="ff-num">0%</span> of <span id="stickyGoal" class="ff-num">$0</span>
            <span class="ff-help" aria-hidden="true">•</span>
            <span class="ff-help" id="stickyDays">—</span>
          </p>
        </div>

        <div class="ff-row" role="group" aria-label="Quick donate actions" style="align-items: center; flex-wrap: wrap">
          <button class="ff-chip" type="button" data-quick-amount="75" aria-label="Quick donate 75 dollars">$75</button>
          <button class="ff-chip" type="button" data-quick-amount="150" aria-label="Quick donate 150 dollars">$150</button>
          <a class="ff-btn ff-btn--primary ff-btn--sm" href="#donate" aria-label="Jump to donate from sticky bar" data-ff-donate-cta>Donate</a>
          <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-share-open aria-label="Share fundraiser from sticky bar">Share</button>
        </div>
      </div>
    </div>

    <!-- Mobile tabs -->
    <nav class="ff-tabs" data-ff-mobile-tabs aria-label="Quick links" role="navigation">
      <a class="ff-tab" href="#progress" data-tab="progress">Progress</a>
      <a class="ff-tab" href="#impact" data-tab="impact">Impact</a>
      <a class="ff-tab" href="#teams" data-tab="teams">Teams</a>
      <a class="ff-tab" href="#donate" data-tab="donate">Donate</a>
    </nav>

    <!-- Back to top -->
    <button id="backToTop" class="ff-top" type="button" aria-label="Back to top" title="Back to top" aria-hidden="true" hidden>↑</button>

    <!-- =========================
      MODALS (keep together)
    ========================== -->

    <!-- SHARE MODAL -->
    <div class="ff-modal modal" id="shareModal" role="dialog" aria-modal="true" aria-labelledby="shareTitle" aria-describedby="shareDesc" aria-hidden="true" data-open="false" data-ff-modal="share" hidden>
      <button class="ff-modal__backdrop" type="button" aria-label="Close share dialog" data-ff-modal-close></button>

      <div class="ff-modal__panel ff-modal__panel--narrow modal-panel" role="document" tabindex="-1" data-ff-modal-panel>
        <div class="ff-pad ff-stack" style="gap: 12px">
          <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 12px">
            <div style="min-width: 0">
              <div class="ff-kicker" id="shareTitle">Share</div>
              <div class="ff-card__title" style="margin-top: 6px">Send one clean link</div>
              <p class="ff-help" id="shareDesc">Sharing is the fastest way to hit the goal.</p>
            </div>
            <button class="ff-icon" type="button" aria-label="Close share modal" data-ff-modal-close>✕</button>
          </div>

          <div class="ff-mini">
            <div class="ff-kicker">Link</div>
            <div class="ff-inputrow" style="margin-top: 8px">
              <input id="shareLink" class="ff-input" type="text" readonly value="" aria-label="Share link" />
              <button class="ff-btn ff-btn--secondary ff-btn--sm" type="button" data-ff-copy-link style="margin-right: 8px">Copy</button>
            </div>

            <div class="ff-row" style="margin-top: 10px; gap: 10px; flex-wrap: wrap">
              <button class="ff-btn ff-btn--primary ff-btn--sm" type="button" data-ff-native-share>Share…</button>
              <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-copy-caption>Copy caption</button>
            </div>
          </div>

          <div class="ff-mini ff-mini--callout">
            <div class="ff-kicker">Caption</div>
            <div class="ff-mini__title">Copy + post anywhere</div>
            <textarea id="shareCaption" class="ff-input" rows="3" aria-label="Share caption" style="margin-top: 10px"></textarea>
            <p class="ff-help" style="margin-top: 8px">Pro move: text the link to 10 people who care about the kids.</p>
          </div>

          <div class="ff-mini">
            <div class="ff-kicker">QR</div>
            <p class="ff-help">Perfect for flyers, gym doors, and group chats.</p>

            <div class="ff-row" style="align-items: center; margin-top: 10px; gap: 12px; flex-wrap: wrap">
              <img id="shareQr" width="112" height="112" alt="QR code for share link" loading="lazy" decoding="async"
                style="border-radius: 18px; border: 1px solid var(--ff-b); background: rgb(255 255 255 / .06); box-shadow: var(--ff-shadow1);" />
              <div style="min-width: 0">
                <p class="ff-help">Scan → donate.</p>
                <button class="ff-btn ff-btn--ghost ff-btn--sm" type="button" data-ff-modal-close>Done</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- SPONSOR KIT MODAL -->
    <div class="ff-modal modal" id="sponsorKitModal" role="dialog" aria-modal="true" aria-labelledby="kitTitle" aria-describedby="kitDesc" aria-hidden="true" data-open="false" data-ff-modal="sponsorKit" hidden>
      <button class="ff-modal__backdrop" type="button" aria-label="Close sponsor kit" data-ff-modal-close></button>

      <div class="ff-modal__panel ff-modal__panel--wide modal-panel" role="document" tabindex="-1" data-ff-modal-panel>
        <div class="ff-pad ff-stack" style="gap: 12px">
          <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 12px">
            <div style="min-width: 0">
              <div class="ff-row" style="gap: 8px; flex-wrap: wrap">
                <span class="ff-pill ff-pill--verified">Verified</span>
                <span class="ff-pill">Sponsor kit</span>
                <span class="ff-pill" id="kitMatchPill" hidden>Match</span>
              </div>

              <div class="ff-kicker" id="kitTitle" style="margin-top: 10px">Sponsor kit</div>
              <div class="ff-card__title" style="margin-top: 6px">One message to land sponsors</div>
              <p class="ff-help" id="kitDesc">Copy the caption + send the link to local businesses.</p>
            </div>

            <button class="ff-icon" type="button" aria-label="Close sponsor kit modal" data-ff-modal-close>✕</button>
          </div>

          <div class="ff-grid ff-grid--2" style="align-items: start">
            <div class="ff-mini">
              <div class="ff-kicker">Link</div>

              <div class="ff-inputrow" style="margin-top: 8px">
                <input id="kitLink" class="ff-input" type="text" readonly value="" aria-label="Sponsor kit link" />
                <button class="ff-btn ff-btn--secondary ff-btn--sm" type="button" data-ff-copy-link style="margin-right: 8px">Copy</button>
              </div>

              <div class="ff-divider" aria-hidden="true"></div>

              <div class="ff-kicker">Suggested tiers</div>
              <div id="kitTierList" class="ff-stack" style="margin-top: 8px">
                <div class="ff-skel" aria-hidden="true" style="height: 56px"></div>
                <div class="ff-skel" aria-hidden="true" style="height: 56px"></div>
              </div>

              <div class="ff-row" style="margin-top: 12px; gap: 10px; flex-wrap: wrap">
                <a class="ff-btn ff-btn--primary" href="#donate" data-ff-modal-close>Become a sponsor</a>
                <button class="ff-btn ff-btn--ghost" type="button" data-ff-share-open data-ff-modal-close>Share</button>
              </div>
            </div>

            <div class="ff-mini ff-mini--callout">
              <div class="ff-kicker">Caption</div>
              <div class="ff-mini__title">Copy + send</div>

              <textarea id="kitCaption" class="ff-input" rows="8" aria-label="Sponsor kit caption" style="margin-top: 10px"></textarea>

              <div class="ff-row" style="margin-top: 10px; gap: 10px; flex-wrap: wrap">
                <button class="ff-btn ff-btn--secondary" type="button" data-ff-copy-kit-caption>Copy caption</button>
                <button class="ff-btn ff-btn--ghost" type="button" data-ff-native-share>Share…</button>
              </div>

              <div class="ff-notice" style="margin-top: 12px">
                <div class="ff-kicker">Premium flex (optional)</div>
                <p class="ff-help" style="margin-top: 6px">
                  Invoices + logo upload + scheduled shout-outs + sponsor claim badge + featured rotation + team microsites.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- CHECKOUT MODAL (synced with Donate section IDs/hooks) -->
    <div class="ff-modal modal" id="checkoutModal" role="dialog" aria-modal="true" aria-labelledby="checkoutTitle" aria-describedby="checkoutDesc" aria-hidden="true" data-open="false" data-ff-modal="checkout" hidden>
      <button class="ff-modal__backdrop" type="button" aria-label="Close secure checkout" data-ff-modal-close></button>

      <div class="ff-modal__panel modal-panel" role="document" tabindex="-1" data-ff-modal-panel>
        <div class="ff-pad ff-stack" style="gap: 12px">
          <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 12px">
            <div style="min-width: 0">
              <div class="ff-row" style="gap: 8px; flex-wrap: wrap">
                <span class="ff-pill ff-pill--verified">Verified</span>
                <span class="ff-pill">Encrypted</span>
                <span class="ff-pill">Receipt email</span>
              </div>

              <div class="ff-kicker" style="margin-top: 10px">Secure checkout</div>
              <h3 id="checkoutTitle" class="ff-card__title" style="margin-top: 6px">Confirm and pay</h3>
              <p class="ff-help" id="checkoutDesc">Payments are processed securely through Stripe. You’ll stay on this page.</p>
            </div>

            <button class="ff-icon" type="button" aria-label="Close secure checkout" data-ff-modal-close>
              <span aria-hidden="true">✕</span>
            </button>
          </div>

          <!-- REQUIRED: error + loading IDs -->
          <div id="checkoutModalError" class="ff-alert" role="alert" hidden></div>

          <div id="checkoutLoading" class="ff-mini" role="status" aria-live="polite" aria-atomic="true" hidden>
            <strong>Loading secure payment form…</strong><br />
            <span class="ff-help">This usually takes a moment. Please keep this window open.</span>
          </div>

          <!-- REQUIRED: summary container + child IDs -->
          <div id="checkoutSummary" class="ff-notice" hidden>
            <div class="ff-row" style="gap: 8px; flex-wrap: wrap">
              <span class="ff-pill"><strong id="checkoutSummaryAmount">—</strong></span>
              <span class="ff-pill"><span id="checkoutSummaryFrequency">—</span></span>
              <span class="ff-pill"><span id="checkoutSummaryTeam">—</span></span>
            </div>
            <p class="ff-help" style="margin-top: 8px">Receipt is emailed immediately after payment.</p>
          </div>

          <div class="ff-paywrap" aria-label="Secure payment form">
            <!-- REQUIRED: Stripe Payment Element host ID -->
            <div id="modalPaymentElement" data-ff-stripe-element-modal>
              <div class="ff-skel" aria-hidden="true" style="height: 56px"></div>
            </div>

            <div id="checkoutProcessing" class="ff-notice" hidden role="status" aria-live="polite" aria-atomic="true" style="margin-top: 12px">
              <div class="ff-kicker">Processing</div>
              <p class="ff-help" style="margin-top: 6px">Please don’t close this window. We’re confirming your donation securely.</p>
            </div>
          </div>

          <div class="ff-row" aria-label="Checkout actions" style="gap: 10px; flex-wrap: wrap">
            <button class="ff-btn ff-btn--primary" id="payNowBtn" type="button" disabled aria-disabled="true" data-ff-pay-now>
              Pay now
            </button>
            <button class="ff-btn ff-btn--secondary" type="button" data-ff-modal-close>Cancel</button>
          </div>

          <p class="ff-help">Tip: Apple Pay / Google Pay may appear automatically when available.</p>
        </div>
      </div>
    </div>

    <!-- SUCCESS MODAL (synced with Donate section IDs/hooks) -->
    <div class="ff-modal modal" id="successModal" role="dialog" aria-modal="true" aria-labelledby="successTitle" aria-describedby="successDesc" aria-hidden="true" data-open="false" data-ff-modal="success" hidden>
      <button class="ff-modal__backdrop" type="button" aria-label="Close success dialog" data-ff-modal-close></button>

      <div class="ff-modal__panel ff-modal__panel--narrow modal-panel" role="document" tabindex="-1" data-ff-modal-panel>
        <div class="ff-pad ff-stack" style="gap: 12px">
          <div class="ff-row ff-row--between" style="align-items: flex-start; gap: 12px">
            <div style="min-width: 0">
              <div class="ff-row" style="gap: 8px; flex-wrap: wrap">
                <span class="ff-pill ff-pill--verified">Verified</span>
                <span class="ff-pill">Receipt sent</span>
              </div>

              <div class="ff-kicker" style="margin-top: 10px">Success</div>
              <h3 id="successTitle" class="ff-card__title" style="margin-top: 6px">Donation complete</h3>

              <p class="ff-help" id="successDesc">
                Receipt sent to <span class="ff-num" id="successEmail">—</span>
              </p>
            </div>

            <button class="ff-icon" type="button" aria-label="Close success modal" data-ff-modal-close>
              <span aria-hidden="true">✕</span>
            </button>
          </div>

          <div class="ff-notice" aria-label="Donation details">
            <div class="ff-row ff-row--between">
              <span class="ff-help">Amount</span>
              <strong class="ff-num" id="successAmount">—</strong>
            </div>

            <div class="ff-row ff-row--between" style="margin-top: 8px">
              <span class="ff-help">Frequency</span>
              <strong class="ff-num" id="successFrequency">—</strong>
            </div>

            <div class="ff-row ff-row--between" style="margin-top: 8px">
              <span class="ff-help">Team</span>
              <strong class="ff-num" id="successTeam">—</strong>
            </div>
          </div>

          <div class="ff-mini ff-mini--callout" aria-label="Share kit">
            <div class="ff-kicker">Share kit</div>
            <div class="ff-mini__title">Help us reach the goal faster</div>
            <p class="ff-help">Copy a caption and share the same clean link.</p>

            <div class="ff-field" style="margin-top: 10px">
              <label for="successCaption">Caption</label>
              <textarea id="successCaption" class="ff-input" rows="3" data-ff-success-caption></textarea>
            </div>

            <div class="ff-row" style="margin-top: 10px; gap: 10px; flex-wrap: wrap">
              <button class="ff-btn ff-btn--secondary" id="successShare" type="button" data-ff-share-open>Share</button>
              <button class="ff-btn ff-btn--ghost" id="successCopy" type="button" data-ff-copy-link>Copy link</button>
              <button class="ff-btn ff-btn--ghost" type="button" data-ff-success-copy-caption>Copy caption</button>
            </div>
          </div>

          <div class="ff-row" style="gap: 10px; flex-wrap: wrap">
            <a class="ff-btn ff-btn--secondary" href="#sponsors" id="successSponsorCta" hidden>Sponsor a tier</a>
            <button class="ff-btn ff-btn--primary" id="successBack" type="button" data-ff-modal-close>Done</button>
          </div>

          <p class="ff-help">Thank you. Your support makes the season possible.</p>
        </div>
      </div>
    </div>

    <!-- =========================
      CONFIG + BOOTSTRAP (must be before ff-app.js)
    ========================== -->

    <script id="ffConfig" type="application/json">
{
  "org": {
    "name": "Connect ATX Elite",
    "meta": "Youth Basketball • Austin, TX",
    "seasonPill": "Season Fund",
    "sportPill": "Youth program",
    "heroAccentLine": "Help more kids stay on the floor.",
    "footerTagline": "Fuel the season. Fund the future."
  },
  "fundraiser": {
    "goalAmount": 25000,
    "deadlineISO": "2026-02-28T23:59:59-06:00"
  },
  "teams": [
    { "id": "6g", "name": "6th Grade Gold", "meta": "First AAU reps — fundamentals + communication.", "goal": 5000, "raised": 3420, "featured": true, "needs": false, "restricted": false, "photo": "/static/images/connect-atx-team.jpg", "ask": "Suggested ask: “Help cover tournament fees + gym time this month.”" },
    { "id": "7g", "name": "7th Grade Gold", "meta": "Speed + spacing — film + pressure reps.", "goal": 6000, "raised": 4680, "featured": true, "needs": false, "restricted": false, "photo": "/static/images/7thGold.jpg", "ask": "Suggested ask: “Help fund travel + entry fees for the next weekend.”" },
    { "id": "7b", "name": "7th Grade Black", "meta": "Defense travels — stops into transition.", "goal": 5000, "raised": 2210, "featured": false, "needs": true, "restricted": false, "photo": "/static/images/7thBlack.png", "ask": "Suggested ask: “Help with uniforms + team meals on tournament days.”" },
    { "id": "8g", "name": "8th Grade Gold", "meta": "Finish strong — intensity + leadership.", "goal": 6000, "raised": 4680, "featured": false, "needs": false, "restricted": false, "photo": "/static/images/8thGold.jpg", "ask": "Suggested ask: “Help with gym rentals + training sessions.”" },
    { "id": "8b", "name": "8th Grade Black", "meta": "Next-gym ready — advanced reads + weekends.", "goal": 5000, "raised": 2210, "featured": false, "needs": true, "restricted": false, "photo": "/static/images/connect-atx-team_3.jpg", "ask": "Suggested ask: “Help with tournament fees and travel support.”" }
  ]
}
    </script>

    <script>
/**
 * FutureFunded "Flagship" bootstrap:
 * - Parses ffConfig JSON once
 * - Exposes window.__FF_CONFIG (for ff-app.js or other scripts)
 * - Renders team cards + images reliably
 * - Powers search/filter/sort + header counters + spotlight
 * - Emits events: ff:config-ready, ff:teams-rendered
 */
(() => {
  const cfgEl = document.getElementById("ffConfig");
  if (!cfgEl) return;

  let cfg;
  try { cfg = JSON.parse(cfgEl.textContent || "{}"); }
  catch (e) { console.error("[FF] Invalid ffConfig JSON:", e); return; }

  window.__FF_CONFIG = Object.freeze({ ...(window.__FF_CONFIG || {}), ...cfg });
  window.dispatchEvent(new CustomEvent("ff:config-ready", { detail: window.__FF_CONFIG }));

  const teamsAll = Array.isArray(cfg.teams) ? cfg.teams : [];

  const grid = document.getElementById("teamsGrid");
  const tpl = document.getElementById("teamCardTpl");

  const teamsCountEl = document.getElementById("teamsCount");
  const teamsFeaturedCountEl = document.getElementById("teamsFeaturedCount");
  const teamsNeedsCountEl = document.getElementById("teamsNeedsCount");
  const teamsEmptyEl = document.getElementById("teamsEmpty");
  const restrictedNoticeEl = document.getElementById("teamsRestrictedNotice");
  const teamsFilterPill = document.getElementById("teamsFilterPill");

  const teamSearch = document.getElementById("teamSearch");
  const teamSort = document.getElementById("teamSort");
  const filterWrap = document.getElementById("teamFilter");

  const spotlightCard = document.getElementById("teamSpotlightCard");
  const spotlightName = document.getElementById("teamSpotlightName");
  const spotlightBlurb = document.getElementById("teamSpotlightBlurb");
  const spotlightDonate = document.getElementById("teamSpotlightDonate");
  const spotlightImage = document.querySelector("[data-spotlight-image]");

  const teamSelect = document.getElementById("teamSelect");

  const fmtUSD = new Intl.NumberFormat("en-US", { style: "currency", currency: "USD", maximumFractionDigits: 0 });

  const clampPct = (raised, goal) => {
    const r = Number(raised) || 0;
    const g = Number(goal) || 0;
    if (g <= 0) return 0;
    return Math.max(0, Math.min(100, Math.round((r / g) * 100)));
  };

  const norm = (s) => String(s || "").toLowerCase().trim();
  const getId = (t) => t.id ?? t.key ?? "";

  const setText = (el, val) => { if (el) el.textContent = String(val); };
  const setHidden = (el, hidden) => { if (el) el.hidden = !!hidden; };

  const computeCounts = (teams) => ({
    total: teams.length,
    featured: teams.filter(t => !!t.featured).length,
    needs: teams.filter(t => !!t.needs).length,
    restricted: teams.filter(t => !!t.restricted).length
  });

  const state = { filter: "all", search: "", sort: "featured" };

  const renderSpotlight = (teams) => {
    if (!spotlightCard || !spotlightName || !spotlightDonate) return;
    const pick = teams.find(t => t.featured) || teams.find(t => t.needs) || teams[0];
    if (!pick) { spotlightCard.hidden = true; return; }

    spotlightCard.hidden = false;

    const name = pick.name ?? "Team";
    spotlightName.textContent = name;
    spotlightBlurb.textContent = pick.meta ? ` — ${pick.meta}` : " needs support this week.";

    const id = getId(pick) || "all";
    spotlightDonate.setAttribute("data-ff-team-tag", id);

    const src = pick.photo || pick.image || "";
    if (spotlightImage) {
      if (src) {
        spotlightImage.src = src;
        spotlightImage.alt = `${name} photo`;
        spotlightImage.hidden = false;
        spotlightImage.addEventListener("error", () => { spotlightImage.hidden = true; }, { once: true });
      } else {
        spotlightImage.hidden = true;
      }
    }
  };

  const renderTeamSelect = () => {
    if (!teamSelect) return;
    const existingVal = teamSelect.value || "all";
    teamSelect.innerHTML = "";
    teamSelect.appendChild(new Option("All teams • Support the full program", "all"));
    teamsAll.forEach((t) => {
      const tid = getId(t);
      if (!tid) return;
      const label = `${t.name}${t.restricted ? " • Restricted" : ""}`;
      teamSelect.appendChild(new Option(label, tid));
    });
    teamSelect.value = [...teamSelect.options].some(o => o.value === existingVal) ? existingVal : "all";
  };

  const renderGrid = (teams) => {
    if (!grid || !tpl) return;
    const frag = document.createDocumentFragment();

    teams.forEach((team) => {
      const node = tpl.content.firstElementChild.cloneNode(true);
      const qs = (sel) => node.querySelector(sel);

      const id = getId(team) || "";
      const name = team.name ?? "Team";
      const meta = team.meta ?? team.blurb ?? "";
      const goal = Number(team.goal) || 0;
      const raised = Number(team.raised) || 0;
      const p = clampPct(raised, goal);

      node.dataset.teamId = id;

      const nameEl = qs("[data-team-name]");
      const metaEl = qs("[data-team-meta]");
      if (nameEl) nameEl.textContent = name;
      if (metaEl) metaEl.textContent = meta;

      const raisedEl = qs("[data-team-raised]");
      const goalEl = qs("[data-team-goal]");
      const pctEl = qs("[data-team-pct]");
      if (raisedEl) raisedEl.textContent = fmtUSD.format(raised);
      if (goalEl) goalEl.textContent = fmtUSD.format(goal);
      if (pctEl) pctEl.textContent = String(p);

      const meter = qs("[data-team-meter]");
      const bar = qs("[data-team-bar]");
      if (meter) { meter.setAttribute("aria-valuenow", String(p)); meter.setAttribute("aria-valuetext", `${p}% funded`); }
      if (bar) bar.style.width = `${p}%`;

      const bFeatured = qs("[data-team-badge-featured]");
      const bNeeds = qs("[data-team-badge-needs]");
      const bRestricted = qs("[data-team-badge-restricted]");
      if (bFeatured) bFeatured.hidden = !team.featured;
      if (bNeeds) bNeeds.hidden = !team.needs;
      if (bRestricted) bRestricted.hidden = !team.restricted;

      node.querySelectorAll("[data-ff-team-tag]").forEach((el) => el.setAttribute("data-ff-team-tag", id || "all"));

      const img = qs("[data-team-image]");
      const src = team.photo || team.image || "";
      if (img) {
        if (src) {
          img.src = src;
          img.alt = `${name} photo`;
          img.hidden = false;
          img.addEventListener("error", () => { img.hidden = true; }, { once: true });
        } else {
          img.hidden = true;
        }
      }

      const askEl = qs("[data-team-ask]");
      if (askEl) askEl.textContent = team.ask || "Suggested ask: “Help us with tournament fees this month.”";

      frag.appendChild(node);
    });

    grid.innerHTML = "";
    grid.appendChild(frag);
  };

  const apply = () => {
    const q = norm(state.search);
    let list = teamsAll.slice();

    if (state.filter === "featured") list = list.filter(t => !!t.featured);
    if (state.filter === "needs") list = list.filter(t => !!t.needs);

    if (q) {
      list = list.filter((t) => norm(`${t.name || ""} ${t.meta || ""} ${t.blurb || ""} ${getId(t)}`).includes(q));
    }

    const byName = (a,b) => String(a.name||"").localeCompare(String(b.name||""), undefined, { sensitivity: "base" });
    const pctA = (t) => clampPct(t.raised, t.goal);

    if (state.sort === "name") list.sort(byName);
    else if (state.sort === "raised") list.sort((a,b) => (Number(b.raised)||0) - (Number(a.raised)||0) || byName(a,b));
    else if (state.sort === "needs") list.sort((a,b) => (Number(!!b.needs) - Number(!!a.needs)) || (pctA(a) - pctA(b)) || byName(a,b));
    else if (state.sort === "new") {/* stable */}
    else list.sort((a,b) => (Number(!!b.featured) - Number(!!a.featured)) || (pctA(b) - pctA(a)) || byName(a,b));

    const totals = computeCounts(teamsAll);
    setText(teamsCountEl, totals.total);
    setText(teamsFeaturedCountEl, totals.featured);
    setText(teamsNeedsCountEl, totals.needs);
    setHidden(restrictedNoticeEl, totals.restricted === 0);

    if (teamsFilterPill) {
      teamsFilterPill.textContent =
        state.filter === "featured" ? "Featured teams" :
        state.filter === "needs" ? "Needing support" :
        "All teams";
    }

    setHidden(teamsEmptyEl, list.length !== 0);

    renderGrid(list);
    renderSpotlight(teamsAll);
    renderTeamSelect();

    window.dispatchEvent(new CustomEvent("ff:teams-rendered", { detail: { teams: list, all: teamsAll, state: { ...state } } }));
  };

  if (teamSearch) teamSearch.addEventListener("input", (e) => { state.search = e.target.value || ""; apply(); });
  if (teamSort) teamSort.addEventListener("change", (e) => { state.sort = e.target.value || "featured"; apply(); });

  if (filterWrap) {
    filterWrap.addEventListener("click", (e) => {
      const btn = e.target.closest("button[data-team-filter]");
      if (!btn) return;
      state.filter = btn.getAttribute("data-team-filter") || "all";
      filterWrap.querySelectorAll("button[data-team-filter]").forEach((b) => b.setAttribute("aria-pressed", String(b === btn)));
      apply();
    });
  }

  apply();
})();
    </script>

    <!-- Your main app JS (must come AFTER ffConfig + bootstrap) -->
    <script defer src="{{ url_for('static', filename='js/ff-app.js') }}"></script>

    <!-- Optional: PWA service worker (safe no-op if not present) -->
    <script>
      (function () {
        try {
          if (!("serviceWorker" in navigator)) return;
          var sw = "{{ url_for('static', filename='sw.js') }}";
          navigator.serviceWorker.register(sw).catch(function(){});
        } catch (e) {}
      })();
    </script>

  </div><!-- /.ff-shell -->
</body>
</html>

